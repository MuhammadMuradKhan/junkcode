/*
 * $Id: longjmp1.c,v 1.1.1.1 2004/05/29 14:15:05 raptor Exp $
 *
 * longjmp1.c - simple vulnerable program (longjmp buffers)
 * Copyright (c) 2003 Marco Ivaldi <raptor@0xdeadbeef.info>
 */

#include <setjmp.h>

static char buf[256];
jmp_buf jmpbuf;

int main (int argc, char **argv)
{
	if (setjmp(jmpbuf))
		exit(-1);

	strcpy(buf, argv[1]);

	longjmp(jmpbuf, 1);
}
