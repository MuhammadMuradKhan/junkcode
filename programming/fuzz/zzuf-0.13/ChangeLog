commit 1cf8e13087011c754d6e5683d48c48e627d1e526
Author: sam
Date:   Sun Jan 31 12:18:01 2010 +0000

    Minor testsuite behaviour updates.

 test/check-build        |    2 +-
 test/check-zzuf-r-ratio |    7 +++++--
 2 files changed, 6 insertions(+), 3 deletions(-)

commit f154d7caf5a624915b7d9d291edc1c68535826e1
Author: sam
Date:   Sun Jan 31 12:05:43 2010 +0000

    Simplify ChangeLog output.

 Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit feb30571cbc3055cbeaed817716c63110f790645
Author: sam
Date:   Sun Jan 31 12:04:56 2010 +0000

    Properly document the -a flag.

 doc/zzuf.1.in |   13 +++++++++++--
 src/zzuf.c    |    4 ++--
 2 files changed, 13 insertions(+), 4 deletions(-)

commit 1da3f6d7d0c8191ff2d064e5053b686dad5d1d14
Author: sam
Date:   Thu Jan 21 09:31:47 2010 +0000

    Fix a regression in myfork.c causing build failures when libtool does not
    define LT_OBJDIR.

 src/myfork.c |    5 +++++
 src/zzuf.c   |    5 -----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 7963572419f2979f53e07f4e5eea79fdac91fc43
Author: sam
Date:   Thu Jan 21 01:17:27 2010 +0000

    Use LD_PRELOAD_32 on OpenSolaris i386.

 src/myfork.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit bb7c47473da6f1c24834fc75052bdc784b72e2fc
Author: sam
Date:   Thu Jan 21 01:17:21 2010 +0000

    Add a debug mode to zzcat.

 doc/zzcat.1.in |    5 ++++-
 src/zzcat.c    |   20 ++++++++++++++++++--
 2 files changed, 22 insertions(+), 3 deletions(-)

commit 4226dd097c72166731ac887ed4c793a246f4f413
Author: sam
Date:   Thu Jan 21 01:17:15 2010 +0000

    Fix a buffer overflow in zzcat.

 src/zzcat.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit b0305c1c00a41e0ee788ce1391032456ec2d9115
Author: sam
Date:   Thu Jan 21 01:17:09 2010 +0000

    Fix testsuite behaviour on OpenSolaris /bin/sh.

 test/check-utils   |    8 ++++----
 test/functions.inc |    2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 06822bf92062c9524801082273536b4e915f4dc2
Author: sam
Date:   Thu Jan 21 01:17:01 2010 +0000

    Fix compilation warnings and errors on OpenSolaris caused by a few of
    our source feature macros.

 src/libzzuf/lib-mem.c |    2 +-
 src/zzcat.c           |    2 ++
 2 files changed, 3 insertions(+), 1 deletions(-)

commit 7d525f87b6a69f36dcb51df5fd97c53e13fd9f0f
Author: sam
Date:   Wed Jan 20 07:59:01 2010 +0000

    Improve the OpenSolaris port: support for FILE structures, and a few
    additional defines to activate libc features.

 configure.ac             |   28 ++++++++++++++++++++--------
 msvc/config.h            |    1 +
 src/libzzuf/lib-fd.c     |    2 ++
 src/libzzuf/lib-signal.c |    2 ++
 src/libzzuf/lib-stream.c |    6 ++++++
 5 files changed, 31 insertions(+), 8 deletions(-)

commit a85778a01aa08186a42e0131e8cc3aac95c49a24
Author: sam
Date:   Tue Jan 19 13:01:45 2010 +0000

    Don't try to use waitpid() information on Win32.

 src/zzuf.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit b85baac7899c4df8229d6c4562d2f602f3bdfe36
Author: sam
Date:   Tue Jan 19 12:44:29 2010 +0000

    Drop atoll() usage. It's not portable.

 src/zzuf.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8b01db7f0ce771a0fd0c1e92244e61b463f6f292
Author: sam
Date:   Tue Jan 19 12:44:23 2010 +0000

    Fix memory limitation method on OS X (page size was ignored) and other
    systems (was using MBs instead of MiBs).

 src/libzzuf/lib-mem.c |   11 ++++++++++-
 src/libzzuf/libzzuf.c |    2 +-
 src/myfork.c          |    4 ++--
 src/zzuf.c            |    9 ++++++++-
 4 files changed, 21 insertions(+), 5 deletions(-)

commit cac276f0bcc3d8437bb0f815b11b31fb7d3ccd54
Author: sam
Date:   Tue Jan 19 12:44:15 2010 +0000

    Fix a bug in the -s test script that failed to detect failures.

 test/check-zzuf-s-seed |   21 ++++++++++++---------
 1 files changed, 12 insertions(+), 9 deletions(-)

commit ffc9980a2b5cb2002091577603b310cf70f13b28
Author: sam
Date:   Mon Jan 18 02:19:07 2010 +0000

    Prepare for zzuf 0.13. Soon.

 ChangeLog   | 3756 ++++++++++++++++++++++++++++++++++++++++++++++++-----------
 Makefile.am |    6 +
 NEWS        |    8 +
 3 files changed, 3075 insertions(+), 695 deletions(-)

commit b54c5f2b0f43d2c2a445e3b631c9658b9e82382c
Author: sam
Date:   Mon Jan 18 02:02:12 2010 +0000

    Add a check-zzuf-s-seed that tests whether all bits in a sequence have a
    chance of being toggled.

 .gitignore             |    1 +
 test/Makefile.am       |    2 +-
 test/check-zzuf-s-seed |   43 ++++++++++++++++++++++++
 test/zzone.c           |   85 ++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 130 insertions(+), 1 deletions(-)

commit b508a55f625deaa8bb325508b4fcebe06bed6adc
Author: sam
Date:   Mon Jan 18 02:02:06 2010 +0000

    Add a -r flag to zzcat to repeatedly cat file lists.

 doc/zzcat.1.in |    6 +++++-
 src/zzcat.c    |   23 +++++++++++++++--------
 2 files changed, 20 insertions(+), 9 deletions(-)

commit afa93520bafdc99561984e9332c4c7a21822e99c
Author: sam
Date:   Mon Jan 18 02:02:00 2010 +0000

    In verbose mode, tell when a process exits.

 src/zzuf.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit f07f9ab9a29d3a2334db11925c81551fbdb915dc
Author: sam
Date:   Fri Jan 15 21:14:48 2010 +0000

    Improve zzcat's manual page. Fixes #75.

 doc/zzcat.1.in |   51 ++++++++++++++++++++++++++++++++++++++++++++-------
 1 files changed, 44 insertions(+), 7 deletions(-)

commit f683e68d435b9a3c44cded0e8cd16eefe70828ca
Author: sam
Date:   Fri Jan 15 21:14:39 2010 +0000

    Fix zzcat's -s flag. It must propagate to the next file.

 src/zzcat.c |   38 +++++++++++++++++++++++++++-----------
 1 files changed, 27 insertions(+), 11 deletions(-)

commit 44e0cb3d455f9d4da33f3efcec87d6cf6fda28b1
Author: sam
Date:   Fri Jan 15 17:03:39 2010 +0000

    Rename check-flag-# tests to check-zzuf-#-#### with the option's long name,
    to avoid problems with case-insensitive filesystems.

 test/Makefile.am             |    8 ++++-
 test/check-flag-A            |   39 ------------------------
 test/check-flag-M            |   48 ------------------------------
 test/check-flag-f            |   67 ------------------------------------------
 test/check-flag-m            |   36 ----------------------
 test/check-flag-r            |   62 --------------------------------------
 test/check-zzuf-A-autoinc    |   39 ++++++++++++++++++++++++
 test/check-zzuf-M-max-memory |   48 ++++++++++++++++++++++++++++++
 test/check-zzuf-f-fuzzing    |   67 ++++++++++++++++++++++++++++++++++++++++++
 test/check-zzuf-m-md5        |   36 ++++++++++++++++++++++
 test/check-zzuf-r-ratio      |   62 ++++++++++++++++++++++++++++++++++++++
 11 files changed, 258 insertions(+), 254 deletions(-)

commit f392a077a0e07b5ac65c7b6fece0fe394d8745ca
Author: sam
Date:   Fri Jan 15 00:17:03 2010 +0000

    Implement zzcat -s (squeeze empty lines).

 src/zzcat.c |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit 41a24bdceac45be718c27cc55f2e262ee051a20c
Author: sam
Date:   Thu Jan 14 00:27:03 2010 +0000

    Implement zzcat -b and -n. Fixes #74.

 src/zzcat.c |   18 ++++++++++++++++--
 1 files changed, 16 insertions(+), 2 deletions(-)

commit 5cd5a10354884a9b9b2f022f871cd59272e571ac
Author: sam
Date:   Thu Jan 14 00:26:52 2010 +0000

    Avoid leading zeroes in the unit tests' initial random seed.

 test/functions.inc |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 203602e3582f6c1fa463f80307e120f2000f5d07
Author: sam
Date:   Thu Jan 14 00:26:46 2010 +0000

    Rename check-memory to check-flag-M and check-rng to check-flag-r.

 test/Makefile.am  |    4 +-
 test/check-flag-M |   48 +++++++++++++++++++++++++++++++++++++++++
 test/check-flag-r |   62 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 test/check-memory |   48 -----------------------------------------
 test/check-rng    |   62 -----------------------------------------------------
 5 files changed, 112 insertions(+), 112 deletions(-)

commit 3c9f9c261572ebb2737d01096397195314aa052a
Author: sam
Date:   Thu Jan 14 00:26:35 2010 +0000

    Add a check-flag-f test.

 test/Makefile.am  |    2 +-
 test/check-flag-A |    8 +++---
 test/check-flag-f |   67 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 72 insertions(+), 5 deletions(-)

commit a12b8841432585cc52ec57e0b3fa09cd1ec2a3bc
Author: sam
Date:   Thu Jan 14 00:26:21 2010 +0000

    Add a check-flag-A test and rename check-md5 to check-flag-m.

 test/Makefile.am  |    4 ++--
 test/check-flag-A |   39 +++++++++++++++++++++++++++++++++++++++
 test/check-flag-m |   36 ++++++++++++++++++++++++++++++++++++
 test/check-md5    |   36 ------------------------------------
 4 files changed, 77 insertions(+), 38 deletions(-)

commit f46d90b4bd5116c7bd1a612e5aec544aa0d2ff10
Author: sam
Date:   Wed Jan 13 01:16:32 2010 +0000

    Add informative messages about why we exit the main loop.

 src/zzuf.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 7606a38c040060a9a7de5356211b42b4ed67e322
Author: sam
Date:   Wed Jan 13 01:09:30 2010 +0000

    Rename -t/--max-time to -U/--max-usertime, and add -t/--max-time to
    roughly mean "maximum zzuf run time". Fixes bug #45.

 doc/zzuf.1.in |   47 ++++++++++++++++++++----------
 src/opts.c    |    5 ++-
 src/opts.h    |    2 +
 src/zzuf.c    |   88 +++++++++++++++++++++++++++++++++------------------------
 4 files changed, 88 insertions(+), 54 deletions(-)

commit 54aa51a6b260c6f34b902b79caa7b82f35bfd3bd
Author: sam
Date:   Wed Jan 13 01:09:19 2010 +0000

    Add CONNECT_USES_STRUCT_SOCKADDR to msvc/config.h.

 msvc/config.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d536272a8512b931ee2982dd5aef50fcc71b6876
Author: sam
Date:   Wed Jan 13 00:11:14 2010 +0000

    On HP-UX, connect(), bind() etc. do not use the struct sockaddr type but
    use a void pointer instead. Check for that at configure time.

 configure.ac         |   12 ++++++++++++
 src/libzzuf/lib-fd.c |   22 ++++++++++++++--------
 2 files changed, 26 insertions(+), 8 deletions(-)

commit d1cc0b5febcdecaba2cf6ad84fb39d8359810622
Author: sam
Date:   Tue Jan 12 23:54:49 2010 +0000

    Fix check-build on platforms without sh's pushd/popd or grep's \<\>.

 msvc/config.h      |    8 ++------
 test/check-build   |    7 +++----
 test/functions.inc |    1 -
 3 files changed, 5 insertions(+), 11 deletions(-)

commit 15a181415a91d2f6d40241e09b7e556bf29b5373
Author: sam
Date:   Tue Jan 12 23:54:43 2010 +0000

    Fix the OpenBSD port. On this platform, weird stuff happens such as
    fseek() calling fseeko(). Fortunately, we already have the mechanisms
    for those situations.

 src/libzzuf/lib-stream.c |   27 ++++++++++++++++++---------
 1 files changed, 18 insertions(+), 9 deletions(-)

commit 2b8d6cf18e8e8f82668574379a8d16bc3a77e392
Author: sam
Date:   Tue Jan 12 23:54:38 2010 +0000

    Minor zzcat refactoring.

 src/zzcat.c |   74 ++++++++++++++++++++++++++++++++++------------------------
 1 files changed, 43 insertions(+), 31 deletions(-)

commit 955da3af00c3bb50d56a9bf60b39d1903f05e826
Author: sam
Date:   Tue Jan 12 23:54:31 2010 +0000

    Add a workaround for OS X ignoring RLIMIT_RSS / RLIMIT_AS and getrusage()
    not filling in RSS information. After each memory allocation, we ask the
    Mach for the RSS value.

 configure.ac          |    2 +-
 msvc/config.h         |    1 +
 src/libzzuf/lib-mem.c |   35 ++++++++++++++++++++++++++++++-----
 src/libzzuf/libzzuf.c |    6 +++---
 src/libzzuf/libzzuf.h |    2 +-
 5 files changed, 36 insertions(+), 10 deletions(-)

commit dfcd86cb5acf39f0d4bca34d8c4954c757d78013
Author: sam
Date:   Tue Jan 12 23:54:25 2010 +0000

    Fix fork() return value check.

 src/myfork.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4fe0e85e3df24eaf4eab09e20590ee9a3a84ffc5
Author: sam
Date:   Tue Jan 12 23:54:20 2010 +0000

    Properly compute SONAME using libtool variables.

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 87416981d9d1163c811990f289a9af19e4b027ce
Author: sam
Date:   Tue Jan 12 23:54:15 2010 +0000

    Improve the default zzcat sequence to improve performance.

 doc/zzcat.1.in |    2 +-
 src/zzcat.c    |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 28039c1ad9f9ac0a694390f052722d34099c6cca
Author: sam
Date:   Tue Jan 12 23:54:09 2010 +0000

    Support cat's -AeEtTv flags in zzcat.

 doc/zzcat.1.in |   26 ++++++++++++++++-
 src/zzcat.c    |   89 +++++++++++++++++++++++++++++++++++++++++++++++++++-----
 2 files changed, 106 insertions(+), 9 deletions(-)

commit c90602a87650ede164564f5f06a56c19e92544e0
Author: sam
Date:   Tue Jan 12 23:54:02 2010 +0000

    Fix copyright information and remove Id tag everywhere.

 AUTHORS                  |    1 -
 Makefile.am              |    1 -
 NEWS                     |    1 -
 README                   |    1 -
 build-win32              |    3 +--
 doc/libzzuf.3.in         |    2 +-
 doc/zzuf.1.in            |    2 +-
 src/Makefile.am          |    1 -
 src/common/common.h      |    4 +---
 src/common/fd.c          |    4 +---
 src/common/fd.h          |    4 +---
 src/common/fuzz.c        |    4 +---
 src/common/fuzz.h        |    4 +---
 src/common/random.c      |    4 +---
 src/common/random.h      |    4 +---
 src/common/ranges.c      |    4 +---
 src/common/ranges.h      |    4 +---
 src/libzzuf/debug.c      |    4 +---
 src/libzzuf/debug.h      |    4 +---
 src/libzzuf/lib-fd.c     |    2 --
 src/libzzuf/lib-load.h   |    4 +---
 src/libzzuf/lib-mem.c    |    4 +---
 src/libzzuf/lib-signal.c |    4 +---
 src/libzzuf/lib-stream.c |    2 --
 src/libzzuf/libzzuf.c    |    4 +---
 src/libzzuf/libzzuf.h    |    4 +---
 src/libzzuf/network.c    |    4 +---
 src/libzzuf/network.h    |    4 +---
 src/libzzuf/sys.c        |    4 +---
 src/libzzuf/sys.h        |    4 +---
 src/md5.c                |    4 +---
 src/md5.h                |    4 +---
 src/myfork.c             |    4 +---
 src/myfork.h             |    4 +---
 src/mygetopt.c           |    4 +---
 src/mygetopt.h           |    4 +---
 src/opts.c               |    4 +---
 src/opts.h               |    4 +---
 src/timer.c              |    4 +---
 src/timer.h              |    4 +---
 src/zzcat.c              |    2 --
 src/zzuf.c               |    6 ++----
 test/bug-div0.c          |    4 +---
 test/bug-memory.c        |    4 +---
 test/bug-overflow.c      |    4 +---
 test/check-build         |   11 +++++++++++
 test/check-div0          |   11 +++++++++++
 test/check-md5           |   11 +++++++++++
 test/check-memory        |   11 +++++++++++
 test/check-overflow      |   11 +++++++++++
 test/check-rng           |   11 +++++++++++
 test/functions.inc       |   13 ++++++++++++-
 test/zzero.c             |    4 +---
 test/zznop.c             |    4 +---
 54 files changed, 118 insertions(+), 125 deletions(-)

commit c5be81a9757694803abf3e8e614612aab066b7d3
Author: sam
Date:   Tue Jan 12 23:53:56 2010 +0000

    Reduce the number of hardcoded figures in check-utils.

 test/check-utils |   45 ++++++++++++++++++++++++++++-----------------
 1 files changed, 28 insertions(+), 17 deletions(-)

commit 1e92503b6ae9a4dd354b4b209cf559a99e9b9e04
Author: sam
Date:   Tue Jan 12 23:53:50 2010 +0000

    Fix compilation warning in lib-fd.c.

 src/libzzuf/lib-fd.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 7bea831632419e1ce2432669c1360186ce182e17
Author: sam
Date:   Tue Jan 12 23:53:43 2010 +0000

    Minor cosmetic change in the verbose debug output.

 src/libzzuf/lib-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a2c90737f2c16544a5a50f468fc025efa0d2861d
Author: sam
Date:   Tue Jan 12 23:53:38 2010 +0000

    Fix the FreeBSD port by not fuzzing the __srget() output unless it's called
    directly.

 src/libzzuf/lib-stream.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit dbbf5f83649a1dc62a5a2c6167bf4259cf8fc6bc
Author: sam
Date:   Tue Jan 12 23:53:30 2010 +0000

    Reorganise FILE structure autoconf tests.

 configure.ac             |   41 ++++++++++++++++-------------------------
 msvc/config.h            |    3 ++-
 src/libzzuf/lib-stream.c |   29 ++++++++++++++---------------
 3 files changed, 32 insertions(+), 41 deletions(-)

commit 7cc9aba77af397ffd97f2b89c22f048157a3b984
Author: sam
Date:   Tue Jan 12 23:53:24 2010 +0000

    In the unit test phase, only launch sequences with functions we support.

 test/check-utils |   64 ++++++++++++++++++++++++++++++++++++++++-------------
 1 files changed, 48 insertions(+), 16 deletions(-)

commit ed586706653ba51108051f8d97b1aeda3916ad66
Author: sam
Date:   Tue Jan 12 23:53:18 2010 +0000

    Improve zzcat documentation and add commandline flags, including --help
    and --version.

 doc/zzcat.1.in   |   37 ++++++-
 src/zzcat.c      |  278 ++++++++++++++++++++++++++++++++++++++++++++----------
 test/check-utils |    6 +-
 3 files changed, 262 insertions(+), 59 deletions(-)

commit 6ea704bd68f2deb755a059ccce175b8aa84979b2
Author: sam
Date:   Tue Jan 12 23:53:09 2010 +0000

    Move zzcat to the main src/ directory. It's becoming mature enough to be
    distributed.

 .gitignore         |    2 +-
 src/Makefile.am    |    7 +-
 src/zzcat.c        |  503 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 test/Makefile.am   |    1 -
 test/functions.inc |    2 +-
 test/zzcat.c       |  503 ----------------------------------------------------
 6 files changed, 511 insertions(+), 507 deletions(-)

commit 9e7ee535826131dad3016e6e90e8011658dbd026
Author: sam
Date:   Fri Jan 8 01:28:02 2010 +0000

    Distribute zzcat and start writing documentation for it.

 .gitignore       |    1 +
 configure.ac     |    1 +
 doc/Makefile.am  |    4 ++--
 doc/zzcat.1.in   |   31 +++++++++++++++++++++++++++++++
 doc/zzuf.1.in    |    2 +-
 test/Makefile.am |    3 ++-
 6 files changed, 38 insertions(+), 4 deletions(-)

commit 0e3d5ea6dcc6af6419576c0137e9f68580130fd4
Author: sam
Date:   Fri Jan 8 01:17:23 2010 +0000

    Fix compilation warnings on FreeBSD.

 test/zzcat.c |  112 +++++++++++++++++++++++++++++----------------------------
 1 files changed, 57 insertions(+), 55 deletions(-)

commit 983650ff13026fce345fd64b823560f08ec0450a
Author: sam
Date:   Fri Jan 8 01:17:17 2010 +0000

    Fix typos in configure.ac.

 configure.ac |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 804222408ab096d5491457931e10c12f38d3889e
Author: sam
Date:   Fri Jan 8 01:06:18 2010 +0000

    Try to fix FILE structure data on FreeBSD.

 configure.ac |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit e70616f25816ee263c015e2df2d03671354b2927
Author: sam
Date:   Fri Jan 8 00:48:33 2010 +0000

    Implement feof(x) in zzcat, to break out of a loop after EOF was hit x times.

 test/check-utils |   22 +++++++++++-----------
 test/zzcat.c     |   33 ++++++++++++++++++++++++++++++---
 2 files changed, 41 insertions(+), 14 deletions(-)

commit 4c2f756d8328d7772ea1ee00e98f1f9c1bdb80e4
Author: sam
Date:   Fri Jan 8 00:48:27 2010 +0000

    Deprecate --deny <list> in favour of --allow !<list>.

 src/opts.c |    4 ++--
 src/opts.h |    4 ++--
 src/zzuf.c |   39 +++++++++++++--------------------------
 3 files changed, 17 insertions(+), 30 deletions(-)

commit c58729850b7b814815744935c5f1d739c87f7ef8
Author: sam
Date:   Fri Jan 8 00:48:21 2010 +0000

    Fix compilation warning due to kfreebsd’s fcntl.h defining FREAD.

 src/libzzuf/lib-fd.c     |   22 ++++----
 src/libzzuf/lib-mem.c    |    6 +-
 src/libzzuf/lib-stream.c |  118 +++++++++++++++++++++++-----------------------
 3 files changed, 73 insertions(+), 73 deletions(-)

commit 3bfa7eb046c0f6033973d8d5efc7241fed8130f8
Author: sam
Date:   Fri Jan 8 00:48:12 2010 +0000

    File descriptors 0 to 2 may be network sockets, don’t rule them out.

 src/libzzuf/network.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 23afecd2068b362f23b92a617fcead772499c4d9
Author: sam
Date:   Wed Jan 6 22:46:49 2010 +0000

    Generate manual pages, so we can put the version number in them.

 .gitignore       |    2 +
 configure.ac     |    7 +-
 doc/Makefile.am  |    2 +-
 doc/libzzuf.3    |  148 ------------------
 doc/libzzuf.3.in |  148 ++++++++++++++++++
 doc/zzuf.1       |  446 ------------------------------------------------------
 doc/zzuf.1.in    |  446 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 603 insertions(+), 596 deletions(-)

commit 4d98ba9e88e087bc853a7d7e21f2eec4a977c50c
Author: sam
Date:   Wed Jan 6 02:00:49 2010 +0000

    Add a special section in the testsuite for regressions.

 test/check-utils |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 76da749a383bdbf5a14ea9244ca99f5117637948
Author: sam
Date:   Wed Jan 6 02:00:41 2010 +0000

    Fix a bug caused by our seek() not understanding eglibc's behaviour.

 src/common/fuzz.c        |    3 +-
 src/libzzuf/lib-stream.c |   67 +++++++++++++++++++++++----------------------
 2 files changed, 36 insertions(+), 34 deletions(-)

commit 562229f865220c2e260d368ae8715fccae75217b
Author: sam
Date:   Wed Jan 6 00:48:47 2010 +0000

    Fix an overflow in our printf's NULL handling with %p.

 src/libzzuf/debug.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 21c0be9ff78400900e8736a13e6c9aa7336174f7
Author: sam
Date:   Wed Jan 6 00:35:49 2010 +0000

    Make seek() debug information more user-friendly.

 src/libzzuf/lib-stream.c |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit 4e510f2307d5f2bd417fb71ba3b2891afc5fdbd2
Author: sam
Date:   Mon Jan 4 23:59:14 2010 +0000

    Avoid useless allocations in the network allow/deny code.

 src/libzzuf/network.c |   57 +++++++++++++++++++++++++-----------------------
 1 files changed, 30 insertions(+), 27 deletions(-)

commit 4ccbf1103a23bdfa43f8f1f8b998ccf2659bd4dc
Author: sam
Date:   Sun Dec 20 12:25:02 2009 +0000

    getline() and getdelim() must return -1 if EOF was reached and no bytes
    were read.

 src/libzzuf/lib-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit caca642b3374e013ad23f9b096f3e52d1c452864
Author: sam
Date:   Sun Dec 20 12:24:56 2009 +0000

    Try to call _zz_init() as soon as possible. Otherwise, preloaded libraries
    might be confused about half the calls actually working.

 src/libzzuf/lib-load.h |    9 ++++++++-
 src/libzzuf/libzzuf.c  |   21 ++++++++++++---------
 src/libzzuf/libzzuf.h  |    9 +++++++++
 3 files changed, 29 insertions(+), 10 deletions(-)

commit 54840d4459608fc1ebe8730b45d71f50fe5cecd5
Author: sam
Date:   Sun Dec 20 12:24:50 2009 +0000

    Buffer debug output to reduce the number of write() calls and allow to
    output information that was logged before the library was initialised.

 src/libzzuf/debug.c |   89 +++++++++++++++++++++++++++++++++------------------
 1 files changed, 58 insertions(+), 31 deletions(-)

commit 73d322ebfae3e93fd1b1d805b425af2be59c4b9f
Author: sam
Date:   Sun Dec 20 12:24:41 2009 +0000

    Avoid overlapping regions in our realloc's memcpy call.

 src/libzzuf/lib-mem.c |   25 ++++++++++++++++++++-----
 1 files changed, 20 insertions(+), 5 deletions(-)

commit 6aae7aec70ce9c4339e9b8f19205c6ba693e6f10
Author: sam
Date:   Wed Dec 16 16:15:40 2009 +0000

    Synchronise VS 2010 solution with [4112].

 msvc/config.h        |    2 +-
 msvc/libzzuf.vcxproj |   49 +++++++++++++++++++++--------------------
 msvc/zzuf.vcxproj    |   42 +++++++++++++++++-----------------
 src/myfork.c         |   59 ++++++++++++++++++++++++++++----------------------
 4 files changed, 80 insertions(+), 72 deletions(-)

commit c06746132549b71c919b5da10b70178ed3ec454c
Author: sam
Date:   Mon Dec 14 16:10:15 2009 +0000

    Make the check-utils output slightly clearer.

 test/check-utils |   71 ++++++++++++++++++++++++++++-------------------------
 1 files changed, 37 insertions(+), 34 deletions(-)

commit 11dd26f4ce7c7824b885222ca34d031dfa025c6e
Author: sam
Date:   Mon Dec 14 03:33:53 2009 +0000

    Fix a regression in the rlimit handling code caused by the myfork split.

 src/myfork.c |   19 +++++++++++++++++++
 src/zzuf.c   |    2 +-
 2 files changed, 20 insertions(+), 1 deletions(-)

commit 684cf4445bcf901155b1322e3ce918eac73e2ff3
Author: sam
Date:   Mon Dec 14 02:55:31 2009 +0000

    Rewrite zzcat to make it a lot more configurable.

 test/check-utils |   43 ++++-
 test/zzcat.c     |  518 ++++++++++++++++++++++++++++++++----------------------
 2 files changed, 343 insertions(+), 218 deletions(-)

commit 139bc9a9691839dd6a7aceb92656f7c716f2e1dd
Author: sam
Date:   Mon Dec 14 02:55:25 2009 +0000

    Add a workaround in the test suite for a cowdancer limitation causing .ilist
    corruption and use ulimit instead of limit.

 test/check-div0     |    6 +++---
 test/check-memory   |    6 +++---
 test/check-overflow |    6 +++---
 test/check-rng      |    2 +-
 test/functions.inc  |    2 +-
 5 files changed, 11 insertions(+), 11 deletions(-)

commit 287c7ed695c54903bdc7915827fa0c35744346e8
Author: sam
Date:   Mon Dec 14 02:55:20 2009 +0000

    Limit coredumpsize to 0 in test scripts to avoid dumping cores at build time.

 test/check-div0     |    2 ++
 test/check-memory   |    2 ++
 test/check-overflow |    2 ++
 3 files changed, 6 insertions(+), 0 deletions(-)

commit addfee30692937e1ba03b27c748c6e33054e2f75
Author: sam
Date:   Mon Dec 14 02:55:11 2009 +0000

    Add missing distributed files in Makefile.am.

 Makefile.am     |    8 +++++++-
 src/Makefile.am |    1 +
 2 files changed, 8 insertions(+), 1 deletions(-)

commit 4599769be84dd2bdab266a893d49deba22915aa0
Author: sam
Date:   Sat Dec 12 22:20:22 2009 +0000

    Refactor the stream diversions.

 src/libzzuf/lib-stream.c |  563 +++++++++++++++++++++++-----------------------
 1 files changed, 283 insertions(+), 280 deletions(-)

commit 815ca09e59430b7e3ca56306a27f1d14046890e8
Author: sam
Date:   Sat Dec 12 22:20:16 2009 +0000

    Refactor the shellcode generation to remove all hardcoded values.

 src/myfork.c |  169 +++++++++++++++++++++++++++++++++++++---------------------
 1 files changed, 108 insertions(+), 61 deletions(-)

commit 3aebddd3c02f443b8800140e00425e48a32adf3a
Author: sam
Date:   Sat Dec 12 22:20:11 2009 +0000

    Move process creation stuff to a separate myfork.c file.

 src/Makefile.am     |    6 +-
 src/common/common.h |    4 +
 src/myfork.c        |  418 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/myfork.h        |   20 +++
 src/zzuf.c          |  361 +-------------------------------------------
 5 files changed, 451 insertions(+), 358 deletions(-)

commit efada73dc578a7feb9dbbec1bb34fcaa74d02e94
Author: sam
Date:   Sat Dec 12 22:20:04 2009 +0000

    Fix DEBUG_STREAM compilation on Win32.

 src/libzzuf/lib-stream.c |   48 +++++++++++++++++++++++----------------------
 1 files changed, 25 insertions(+), 23 deletions(-)

commit ddb0f49a1015d6f9a33baa8fb90a318bfcb45158
Author: sam
Date:   Sat Dec 12 22:19:57 2009 +0000

    Minor Win32 compilation fix.

 src/libzzuf/lib-stream.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit ed17a0a811a5a876b676c1d66421e2fa1d50ae1c
Author: sam
Date:   Sat Dec 12 22:19:47 2009 +0000

    Reorganise source code to better separate zzuf and libzzuf. Note: the Win32
    build is now broken.

 src/Makefile.am          |   34 ++-
 src/common/common.h      |   49 +++
 src/common/fd.c          |  413 +++++++++++++++++++
 src/common/fd.h          |   43 ++
 src/common/fuzz.c        |  253 ++++++++++++
 src/common/fuzz.h        |   26 ++
 src/common/random.c      |   49 +++
 src/common/random.h      |   21 +
 src/common/ranges.c      |   87 ++++
 src/common/ranges.h      |   21 +
 src/debug.c              |  206 ----------
 src/debug.h              |   29 --
 src/fd.c                 |  407 ------------------
 src/fd.h                 |   43 --
 src/fuzz.c               |  249 -----------
 src/fuzz.h               |   26 --
 src/lib-fd.c             |  674 ------------------------------
 src/lib-load.h           |   40 --
 src/lib-mem.c            |  382 -----------------
 src/lib-signal.c         |  135 ------
 src/lib-stream.c         | 1019 ---------------------------------------------
 src/libzzuf.c            |  234 -----------
 src/libzzuf.h            |   62 ---
 src/libzzuf/debug.c      |  206 ++++++++++
 src/libzzuf/debug.h      |   29 ++
 src/libzzuf/lib-fd.c     |  674 ++++++++++++++++++++++++++++++
 src/libzzuf/lib-load.h   |   40 ++
 src/libzzuf/lib-mem.c    |  382 +++++++++++++++++
 src/libzzuf/lib-signal.c |  135 ++++++
 src/libzzuf/lib-stream.c | 1020 ++++++++++++++++++++++++++++++++++++++++++++++
 src/libzzuf/libzzuf.c    |  234 +++++++++++
 src/libzzuf/libzzuf.h    |   31 ++
 src/libzzuf/network.c    |  218 ++++++++++
 src/libzzuf/network.h    |   28 ++
 src/libzzuf/sys.c        |  116 ++++++
 src/libzzuf/sys.h        |   20 +
 src/network.c            |  218 ----------
 src/network.h            |   28 --
 src/opts.c               |    2 +-
 src/random.c             |   49 ---
 src/random.h             |   21 -
 src/ranges.c             |   87 ----
 src/ranges.h             |   21 -
 src/sys.c                |  116 ------
 src/sys.h                |   20 -
 src/zzuf.c               |    4 +-
 46 files changed, 4122 insertions(+), 4079 deletions(-)

commit ada1acd264f2a6f41cd87797a42acded79c6ec79
Author: sam
Date:   Wed Dec 9 00:28:28 2009 +0000

    Try to work around the Vista ASLR feature by retrieving the executable's
    base address once it is loaded in memory.

 src/zzuf.c |   47 +++++++++++++++++++++++++++++++++++++----------
 1 files changed, 37 insertions(+), 10 deletions(-)

commit b40d78ea7504f57e2d8cbbc7d8be14eff7ca8673
Author: sam
Date:   Tue Dec 8 01:41:35 2009 +0000

    Try to reorganise the Win32 loader.

 src/zzuf.c |   70 +++++++++++++++++++++++++++++++++++++++--------------------
 1 files changed, 46 insertions(+), 24 deletions(-)

commit feec4cfe753e55fb0c5eb420eb52012ae03ddd8d
Author: sam
Date:   Mon Dec 7 21:12:22 2009 +0000

    Declare diverted Win32 functions as __stdcall.

 src/sys.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d05780ce7caff0d5a807b3b827ab66f2425cd09b
Author: sam
Date:   Mon Dec 7 18:35:45 2009 +0000

    Give the fuzzed Win32 program a chance to display something even
    if the diverted function itself causes a crash.

 src/sys.c    |    4 +++-
 test/zznop.c |    2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit f7b3b44bcce6d184819122a23f018d1e0d033c11
Author: sam
Date:   Mon Dec 7 18:34:21 2009 +0000

    Fix memory leaks and infinite loops in the Win32 launcher.

 src/zzuf.c |   34 ++++++++++++++++++++--------------
 1 files changed, 20 insertions(+), 14 deletions(-)

commit a3dd18b6114b03cf1164024a1bcbfb7666b1f6c5
Author: sam
Date:   Mon Dec 7 12:36:15 2009 +0000

    Synchronise Win32 port with recent config.h changes.

 msvc/config.h        |   20 ++++++++++++--------
 msvc/libzzuf.vcxproj |    4 ++--
 msvc/zzuf.sln        |   40 ++++++++++++++++++----------------------
 src/debug.c          |    2 +-
 src/zzuf.c           |    2 +-
 5 files changed, 34 insertions(+), 34 deletions(-)

commit 93657c4f29fea4e63740d6c8949212ab8374b7bf
Author: sam
Date:   Thu Nov 26 01:19:08 2009 +0000

    Cleaner solution for echoing the SOURCES variable.

 src/Makefile.am  |    2 ++
 test/Makefile.am |    2 ++
 test/check-build |    4 +---
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 156beb34328c59908174959af900f48e75ce40aa
Author: sam
Date:   Thu Nov 26 01:14:05 2009 +0000

    Reset offset position before most stdio call.

 src/lib-stream.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit b6d021faddaf57dfdfd65ac66207a2365f67c11a
Author: sam
Date:   Thu Nov 26 01:13:58 2009 +0000

    Use fseeko64() everywhere when possible, instead of potential 32-bit versions.

 configure.ac     |    2 +-
 msvc/config.h    |    3 +++
 src/lib-stream.c |   33 ++++++++++++++++++++++-----------
 3 files changed, 26 insertions(+), 12 deletions(-)

commit ed2659d9a4695d27ecd231c9982312fec6661a86
Author: sam
Date:   Wed Nov 25 00:42:32 2009 +0000

    Minor refactoring in lib-stream.c.

 src/lib-stream.c |   38 ++++++++++++++++++++------------------
 1 files changed, 20 insertions(+), 18 deletions(-)

commit 2eb818de7f684e1bd9ac8c041b81e2e2b748cf5d
Author: sam
Date:   Wed Nov 25 00:42:25 2009 +0000

    Synchronise msvc/config.h.

 msvc/config.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f836c42a3f4068b46e7878f463626652321ada58
Author: sam
Date:   Wed Nov 25 00:42:17 2009 +0000

    More zzcat stuff.

 test/check-utils |    4 +-
 test/zzcat.c     |   66 ++++++++++++++++++++++++++++++++++++++---------------
 2 files changed, 49 insertions(+), 21 deletions(-)

commit 1db4ee0685ad29d9f2859374bed5b22b22944b3c
Author: sam
Date:   Tue Nov 24 01:25:44 2009 +0000

    We need to know the FILE buffer's current fill status. Implemented for
    glibc for now.

 configure.ac     |   17 ++++++++++-------
 src/lib-stream.c |    9 +++++++++
 2 files changed, 19 insertions(+), 7 deletions(-)

commit 2f12140d66f826b316547428763c59217fd1c1c3
Author: sam
Date:   Tue Nov 24 01:25:37 2009 +0000

    More zzcat additions.

 test/check-utils |    5 ++---
 test/zzcat.c     |   34 +++++++++++++++++++++++++++++-----
 2 files changed, 31 insertions(+), 8 deletions(-)

commit 2bb489f9dfd643a10e960981814ee415297bcaf4
Author: sam
Date:   Mon Nov 23 11:16:03 2009 +0000

    Fix a compilation warning in the network code.

 src/network.c |   16 +++++++++-------
 1 files changed, 9 insertions(+), 7 deletions(-)

commit 33f79082747ad53ab1ef5a4c08656032dfe72156
Author: sam
Date:   Mon Nov 23 01:35:23 2009 +0000

    More fread() behaviour improvements, with documentation.

 src/lib-fd.c     |   20 ++--
 src/lib-mem.c    |   12 ++--
 src/lib-stream.c |  248 +++++++++++++++++++++++++++++++++---------------------
 3 files changed, 168 insertions(+), 112 deletions(-)

commit 3d76a8f8a4f2d5186f8e9707a5d93f4ceef19604
Author: sam
Date:   Mon Nov 23 00:27:11 2009 +0000

    Document the __srefill strategy in the source code.

 src/lib-stream.c |   26 ++++++++++++++++++--------
 1 files changed, 18 insertions(+), 8 deletions(-)

commit b82078657ea89483e22bcc9b77578f016e616208
Author: sam
Date:   Mon Nov 23 00:27:05 2009 +0000

    Reimplement __uflow() under Linux. Unlocked IO now works on Linux, except
    in combination with getdelim()/getline().

 configure.ac     |   29 +++++++++------
 msvc/config.h    |    1 +
 src/lib-stream.c |  105 +++++++++++++++++++++++++++++++++++++++++++++--------
 3 files changed, 108 insertions(+), 27 deletions(-)

commit 716baa81d6755469f99682b8574cd9c58b73ef8e
Author: sam
Date:   Mon Nov 23 00:26:59 2009 +0000

    Minor refactoring in zzcat.

 test/check-utils |    6 ++--
 test/zzcat.c     |   96 +++++++++++++++++++++++++++---------------------------
 2 files changed, 51 insertions(+), 51 deletions(-)

commit 57ce7df8ab4df315ea59b9a1c8adb3a6a36a35f4
Author: sam
Date:   Mon Nov 23 00:26:53 2009 +0000

    Add a second level of debugging for slightly less useful information.

 doc/libzzuf.3 |    8 +++++++-
 doc/zzuf.1    |    5 +++--
 src/debug.c   |   27 +++++++++++++++++++++------
 src/debug.h   |    7 +++++--
 src/fd.c      |    6 +++---
 src/fuzz.c    |    4 ++--
 src/libzzuf.c |   23 +++++++++++++++++------
 src/libzzuf.h |    3 ++-
 src/zzuf.c    |    7 +++++--
 9 files changed, 65 insertions(+), 25 deletions(-)

commit 4f5269ec8bb1fc8fb680a93e1afc53f2960f574b
Author: sam
Date:   Sun Nov 22 18:54:49 2009 +0000

    Improve the zzcat test suite with more unlocked IO functions.

 test/check-utils |    7 +++-
 test/zzcat.c     |  115 ++++++++++++++++++++++++++++++++----------------------
 2 files changed, 74 insertions(+), 48 deletions(-)

commit 7881694ba55e4340da03f5a63885220c3662407a
Author: sam
Date:   Sun Nov 22 18:54:43 2009 +0000

    Add a check to __uflow(). This will hopefully help us fix the problem with
    recent sed versions.

 configure.ac  |    2 +-
 doc/libzzuf.3 |    8 +++++---
 doc/zzuf.1    |    6 ++++--
 msvc/config.h |    3 ++-
 4 files changed, 12 insertions(+), 7 deletions(-)

commit 9158d8813e0e17750a04b5170fc90dc2072f6a73
Author: sam
Date:   Sun Nov 22 18:54:37 2009 +0000

    Refactor dummy memory manager and fix a bug in realloc().

 src/lib-mem.c |   21 ++++++++++++---------
 1 files changed, 12 insertions(+), 9 deletions(-)

commit 432650728200e047452278b00a9057c2024c8980
Author: sam
Date:   Sun Nov 22 18:54:31 2009 +0000

    Refactor zzcat for clarity.

 test/zzcat.c |  363 ++++++++++++++++++++++++++++++++++------------------------
 1 files changed, 211 insertions(+), 152 deletions(-)

commit d66c310fd6aea200c7d33d0b502fc1589b364272
Author: sam
Date:   Sun Nov 22 18:54:25 2009 +0000

    Check for typical source code issues in the testsuite.

 test/check-build |   40 +++++++++++++++++++++++++++++++++++++---
 1 files changed, 37 insertions(+), 3 deletions(-)

commit 908414e0ba8b35ba650e8915be39c58edf864d13
Author: sam
Date:   Sun Nov 22 18:54:17 2009 +0000

    Add a getc_unlocked method to zzcat.

 test/check-utils |    2 +-
 test/zzcat.c     |   22 +++++++++++++++-------
 2 files changed, 16 insertions(+), 8 deletions(-)

commit f6e215d095375e729c53406a69098fbcf58cd758
Author: sam
Date:   Fri Nov 20 22:47:38 2009 +0000

    Add mingw32 defines to msvc/config.h. Needs to be tuned furthermore.

 msvc/config.h |  102 +++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 99 insertions(+), 3 deletions(-)

commit 723756ba73da601939f2360b4356200ce3ffd113
Author: sam
Date:   Fri Nov 20 22:47:31 2009 +0000

    Use ftello64 instead of ftello to handle fseeko64.

 src/lib-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 210fc1dc9b1a1520cdbe91be10d80997dc1f3108
Author: sam
Date:   Fri Nov 20 17:38:06 2009 +0000

    Ignore generated m4 files.

 .gitignore |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 7843e251b729d846622c338734b7c77fa2f1bee8
Author: sam
Date:   Fri Nov 20 17:38:00 2009 +0000

    Various compilation and unit test fixes.

 configure.ac     |    2 +-
 msvc/config.h    |    5 ++---
 test/check-build |   46 +++++++++++++++++++++++-----------------------
 test/zznop.c     |    1 +
 4 files changed, 27 insertions(+), 27 deletions(-)

commit f46f0b97beab01fa9b7a5c345dde0e9919b16a59
Author: sam
Date:   Fri Nov 20 13:00:28 2009 +0000

    Make check-build executable.

 0 files changed, 0 insertions(+), 0 deletions(-)

commit 01ee3d44a41e8f396bcaf129d6bebe0ce7b8b3c8
Author: sam
Date:   Fri Nov 20 12:06:17 2009 +0000

    Add zznop, a small test program to help debug the Win32 port.
    Also add check-build from libcaca to test that msvc/config.h is
    up to date.

 msvc/libzzuf.vcxproj |    4 +-
 msvc/zznop.vcxproj   |  107 ++++++++++++++++++++++++++++++++++++++++++++++++++
 msvc/zzuf.vcxproj    |    4 +-
 msvc/zzuf10.sln      |    6 +++
 test/Makefile.am     |    5 +-
 test/check-build     |   23 +++++++++++
 test/zznop.c         |   37 +++++++++++++++++
 7 files changed, 182 insertions(+), 4 deletions(-)

commit 02f219d9ed2b740171a957a4e1a41827a50b4866
Author: sam
Date:   Thu Nov 19 00:51:32 2009 +0000

    Detect libzzuf soname at configure time rather than compile time.

 configure.ac    |    9 +++++++++
 src/Makefile.am |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit c85589a5bc453d5bbee55725fe50f9133e2937c0
Author: sam
Date:   Wed Nov 18 13:23:58 2009 +0000

    Add a VS 2010 solution file and make the code build again for Win32.

 msvc/config.h        |    4 +-
 msvc/libzzuf.vcxproj |  133 ++++++++++++++++++++++++++++++++++++++++++++++++++
 msvc/zzuf.vcxproj    |  121 +++++++++++++++++++++++++++++++++++++++++++++
 msvc/zzuf10.sln      |   26 ++++++++++
 src/network.c        |   29 +++++++++--
 5 files changed, 308 insertions(+), 5 deletions(-)

commit 6cc8ebddbede962855c60bc011b88d6d0827382c
Author: sam
Date:   Tue Oct 27 23:10:22 2009 +0000

    Compilation fix for systems without get_unlocked().

 test/zzcat.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 22a436ff6220df0ae9c0e39575f1c46665438d21
Author: sam
Date:   Tue Oct 27 23:08:16 2009 +0000

    Add a getc_unlocked() variant to zzcat.

 test/zzcat.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit e367560dd6ce11baa96fd8d25e8e296b0d110e0b
Author: sam
Date:   Tue Oct 27 22:44:09 2009 +0000

    Add a getline() variant to zzcat.

 test/check-utils |    2 +-
 test/zzcat.c     |   22 ++++++++++++++++++++++
 2 files changed, 23 insertions(+), 1 deletions(-)

commit 5803d475bac91a3e5cf872ae2b14658ab6bb547e
Author: sam
Date:   Tue Oct 27 00:07:10 2009 +0000

    Add missing svn:ignore properties.

commit ebba6073b91c8948a1b184cf8387484399e4a532
Author: sam
Date:   Tue Oct 27 00:01:25 2009 +0000

    Undefine _XOPEN_SOURCE before redefining it.

 src/lib-mem.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 92a20da100751e733d33a78504c4905c6b2651ae
Author: sam
Date:   Fri Aug 7 00:24:31 2009 +0000

    Append "/" to our LT_OBJDIR override.

 src/zzuf.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit aca4f83dc0d6756bba15b57e33ae88e3cbf96e6a
Author: sam
Date:   Fri Aug 7 00:09:03 2009 +0000

    Old libtool versions don't define LT_OBJDIR. Adding an override for them.

 src/zzuf.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 9f43b7f3794e2cb730ea1811e717db05f5e6e5f8
Author: sam
Date:   Thu Aug 6 21:17:00 2009 +0000

    Allow remote network host filtering, courtesy of Corentin Delorme.

 AUTHORS         |    4 +-
 src/Makefile.am |    3 +-
 src/fd.c        |   22 +------
 src/fd.h        |    3 +-
 src/fuzz.h      |    3 +-
 src/lib-fd.c    |   16 +++--
 src/libzzuf.c   |   13 ++++-
 src/network.c   |  195 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/network.h   |   28 ++++++++
 src/opts.c      |    3 +-
 src/opts.h      |    4 +-
 src/zzuf.c      |   44 +++++++++++--
 12 files changed, 295 insertions(+), 43 deletions(-)

commit 98152b7812b4b0a596f6079b2782ddaa490c4b95
Author: sam
Date:   Thu Aug 6 20:40:35 2009 +0000

    Use strcpy, not strcat.

 src/lib-fd.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6b72d7b1bf8afcadd612ad84adef91e30c091096
Author: sam
Date:   Thu Aug 6 20:37:05 2009 +0000

    Allow fromlen == NULL in the recvfrom() wrapper.

 src/lib-fd.c |   16 +++++++++++-----
 1 files changed, 11 insertions(+), 5 deletions(-)

commit e0fa5736fd4bc4d7b127c6394ab907b20a6bb3d9
Author: sam
Date:   Thu Aug 6 20:36:58 2009 +0000

    lib-mem.c: undefine various feature macros before redefining them.

 src/lib-mem.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 9fcbf8d052e147a7e7f5b220a1a45e898812f6c9
Author: sam
Date:   Thu Aug 6 20:36:49 2009 +0000

    zzuf.c: use LT_OBJDIR instead of hardcoding ".libs/".

 src/zzuf.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit f91d4dabf3f8db99c2c031a006e05b50b4d00416
Author: sam
Date:   Fri Mar 20 23:28:51 2009 +0000

    lib-fd.c: accept() may accept NULL as the addrlen argument. Do not crash
    when faced with this situation. Closes #54.

 src/lib-fd.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit deee1cb593b754ff422b50608b303f62910a3465
Author: sam
Date:   Sat Oct 18 22:01:43 2008 +0000

    Rename --max-cpu into --max-cputime to avoid confusion (fixes #44).

 doc/zzuf.1 |    2 +-
 src/zzuf.c |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit fd22eba728232247c03d38f03766796e27213763
Author: sam
Date:   Wed Sep 17 22:17:23 2008 +0000

      * zzuf.c: use atol() instead of atoi() for the --seed flag.

 src/zzuf.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a9a3a0d2c5007322b181a81ac4f96003bab1a303
Author: sam
Date:   Wed Sep 17 22:17:17 2008 +0000

      * zzuf.c: allow the use of -r=0 in addition to -r 0, and likewise for
        other flags with numerical arguments.

 src/zzuf.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit 5ec6ff56218311f7b8bb2d2189d4efba54a63839
Author: sam
Date:   Mon Sep 15 19:39:44 2008 +0000

      * doc/zzuf.1: fix a typo in the manpage.

 doc/zzuf.1 |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit aaffb8146d01b82cd4c263a82790626ba18f513f
Author: sam
Date:   Mon Aug 25 19:28:25 2008 +0000

      * zzuf.1: add a more advanced VLC fuzzing example.

 doc/zzuf.1 |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit fb049778087c4ac76ad88ce6022eebb23cb70736
Author: sam
Date:   Wed Jul 23 23:40:13 2008 +0000

      * Hack around to get HP-UX tools to work. It still fails the most nasty
        zzcat test, though. But a more massive redesign is probably necessary.

 src/fd.c         |   34 +++++++++++++++++++++++++++++-
 src/fd.h         |    3 ++
 src/lib-stream.c |   59 +++++++++++++++++++++++++++++++++++++++++++----------
 3 files changed, 83 insertions(+), 13 deletions(-)

commit b85a74d4bd64ed234a0eb79bd3a56867efc75310
Author: sam
Date:   Wed Jul 23 23:40:06 2008 +0000

      * zzuf.c: make the -B flag (max bytes) also work when fuzzing the standard
        input.

 doc/zzuf.1 |   11 ++++++++---
 src/zzuf.c |   15 +++++++++++++--
 2 files changed, 21 insertions(+), 5 deletions(-)

commit db2cb805f4155817533425178686109f5e197f75
Author: sam
Date:   Sun Jul 20 11:20:47 2008 +0000

      * test/Makefile.am: add functions.inc to the distribution.

 test/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 770e33d025947087fcaf19c3cfac9662d3e67416
Author: sam
Date:   Sun Jul 20 11:16:06 2008 +0000

      * configure.ac: fix the __printf__ attribute macro.

 configure.ac |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit cccea932cd305837e48ee71c60844db6dfc97917
Author: sam
Date:   Sun Jul 20 11:11:27 2008 +0000

      * configure.ac: add a check for the __printf__ function attribute.

 configure.ac |    8 ++++++++
 src/debug.h  |    3 +--
 2 files changed, 9 insertions(+), 2 deletions(-)

commit d9782c3e58fdfddddb5018fc64ac088709a5b698
Author: sam
Date:   Sun Jul 20 10:19:06 2008 +0000

      * bug-div0.c: raise SIGFPE manually since Darwin won't trap on 1/0.

 test/bug-div0.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 804761bea1033ce0298965bc78ef9a9c54df61f5
Author: sam
Date:   Sun Jul 20 10:10:35 2008 +0000

      * fuzz.c: activate the fuzz() debug message, it may be verbose but I end
        up activating it all the time anyway.

 src/fuzz.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 4287ca73d5f30e5d85027d28def3e583192ea122
Author: sam
Date:   Sun Jul 20 10:10:31 2008 +0000

      * lib-mem.c: with all the preprocessor crap that we now have in C files,
        libc.h no longer cleanly includes on OS X and we need more preprocessor
        crap to fix it. Adding _DARWIN_C_SOURCE.

 src/lib-mem.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 1fcfed4f4525fd3b01851bb316c66f8c3acd7e33
Author: sam
Date:   Sun Jul 20 09:57:58 2008 +0000

      * Factored the test suite to avoid excessive code duplication.

 test/check-div0     |   44 ++++++++-----------------------
 test/check-md5      |   23 +++-------------
 test/check-memory   |   46 ++++++++------------------------
 test/check-overflow |   46 ++++++++------------------------
 test/check-rng      |   40 ++++++-----------------------
 test/check-utils    |   51 ++++--------------------------------
 test/functions.inc  |   70 +++++++++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 125 insertions(+), 195 deletions(-)

commit 00e8b59a16a2f136a086b16cd59d9397f6d2a994
Author: sam
Date:   Sun Jul 20 09:57:52 2008 +0000

      * lib-stream.c: since __srefill is far more powerful than __srget, we only
        reimplement the former on OS X and completely ignore the latter.

 src/lib-stream.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit bcb26d97fc0596e7d749d9600bd4b3dee7e64184
Author: sam
Date:   Sun Jul 20 01:29:45 2008 +0000

      * lib-stream.c: fix a bug in the OS X __srefill implementation.

 src/lib-stream.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 6b04aea92600dccf68d7435d4a26e40f3c8c1bf4
Author: sam
Date:   Sun Jul 20 01:22:46 2008 +0000

      * lib-stream.c: the BSDs' refill function is slightly different from the
        HP-UX and Solaris ones; fixing our implementation accordinly.

 src/lib-stream.c |   26 +++++++++++++++++---------
 1 files changed, 17 insertions(+), 9 deletions(-)

commit 14f58c33416be08ceb88946ccdaa8848c2a786d3
Author: sam
Date:   Fri Jul 18 09:28:30 2008 +0000

      * Implement __srget on FreeBSD, which is yet another version of __srefill.

 configure.ac     |   19 ++++++-----
 doc/libzzuf.3    |    2 +-
 src/lib-stream.c |   90 ++++++++++++++++++++++++-----------------------------
 3 files changed, 53 insertions(+), 58 deletions(-)

commit 8834098cdb66c0911795b7d3ad0912b1a3fd9d36
Author: sam
Date:   Fri Jul 18 09:28:26 2008 +0000

      * lib-stream.c: fix the fread() implementation on FreeBSD 7.0.

 src/lib-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 295df163935ae915c7bcfe31ce3c189cdf357642
Author: sam
Date:   Fri Jul 18 09:28:22 2008 +0000

      * check-utils: only perform 3 util test series, the rest was only here to
        validate the RNG and we now have another test for that.

 test/check-utils |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit 404b10dabdde4ff5d9c42a2a5d9c0f5e993ce0ad
Author: sam
Date:   Fri Jul 18 09:28:18 2008 +0000

      * lib-stream.c: only use the __srefill trick on OS X. HP-UX is too different.

 src/lib-stream.c |   25 +++++++++++++------------
 1 files changed, 13 insertions(+), 12 deletions(-)

commit d8f0dcfb6e03e3a1be97787838a1c7008b25baff
Author: sam
Date:   Fri Jul 18 09:28:14 2008 +0000

      * lib-mem.c: fix FreeBSD 7.0 build by including <sys/cdefs.h> earlier on.

 src/lib-mem.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 5eda5620ebf36acd5ccc987bafe2e57bcaaa5da7
Author: sam
Date:   Fri Jul 18 09:28:10 2008 +0000

      * Make the RNG test shorter... it should not vary across platforms anyway.

 test/check-rng |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 6f2f52bfb78398e8e52000b38f5caa75fd505eb0
Author: sam
Date:   Fri Jul 18 09:28:06 2008 +0000

      * Add slightly more complex modes to zzcat.

 test/check-utils |    2 +-
 test/zzcat.c     |   35 +++++++++++++++++++++++++++++------
 2 files changed, 30 insertions(+), 7 deletions(-)

commit fcaf431a1a6703e18a5768c449906cf0f28008b8
Author: sam
Date:   Fri Jul 18 09:28:02 2008 +0000

      * Better check for the __func__ keyword that does not rely on assumptions
        about the compiler version.

 Makefile.am    |    2 +-
 configure.ac   |    1 +
 m4/func.m4     |   13 +++++++++++++
 msvc/config.h  |    1 +
 src/lib-load.h |    9 ---------
 5 files changed, 16 insertions(+), 10 deletions(-)

commit 262d6951eb4f970c8c113f21a7158b8f8ba7202e
Author: sam
Date:   Fri Jul 18 09:27:56 2008 +0000

      * Add simpler modes to zzcat to better analyse what's going on.

 test/check-utils |    2 +-
 test/zzcat.c     |   38 +++++++++++++++++++++++++++++++++++---
 2 files changed, 36 insertions(+), 4 deletions(-)

commit 2b62ccde943114ad2c8792fcba0f1c6eb0423474
Author: sam
Date:   Wed Jul 16 23:24:06 2008 +0000

      * bug-memory.c: fix the SIGSEGV unit test.

 test/bug-memory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c82abbd41abd4b662792f4e9b3ed7789b49463fa
Author: sam
Date:   Wed Jul 16 23:17:12 2008 +0000

      * Support fsetpos64 on Linux.

 configure.ac     |   16 ++++++++++++++++
 src/lib-stream.c |    5 ++---
 2 files changed, 18 insertions(+), 3 deletions(-)

commit e7e28cbfc3f3f028b1ef978c8a18b68042795da3
Author: sam
Date:   Wed Jul 16 23:17:07 2008 +0000

      * zzcat.c: partial fread() reads are undefined; avoid them in zzcat.

 test/zzcat.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ca581ef8ed4183916053a489637ef989e9a59902
Author: sam
Date:   Wed Jul 16 21:54:35 2008 +0000

      * lib-mem.c: add pre-include macro to get getc_unlocked() on OpenSolaris.

 src/lib-stream.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6058c733cbd11bdd1906d0f979067bbd7f5d35d4
Author: sam
Date:   Wed Jul 16 21:45:44 2008 +0000

      * lib-mem.c: add pre-include macros to get mmap and valloc on OpenSolaris.

 src/lib-mem.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 68adcf186a09133abe2565a81db38bd283878ef6
Author: sam
Date:   Wed Jul 16 21:45:40 2008 +0000

      * zzuf.c: rename sig2str to sig2name; the former is a Solaris libc symbol.

 src/zzuf.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 0b9c8b4d1aefa9aeb37a6060c702a4976a3f8985
Author: sam
Date:   Wed Jul 16 21:41:27 2008 +0000

      * Another fucked commit... synchronise config.h and lib-stream.c.

 src/lib-stream.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit f413e837f4e5ac9add7593ad824a7b4624cb06be
Author: sam
Date:   Wed Jul 16 21:37:12 2008 +0000

      * lib-stream.c: try to make the __filbuf() implementation portable across
        HP-UX and OpenSolaris.

 configure.ac     |   16 ++++++++++++++++
 src/lib-stream.c |   10 +++++-----
 2 files changed, 21 insertions(+), 5 deletions(-)

commit d412fe7381eb4bf31bc69bc371077513cab4d65d
Author: sam
Date:   Wed Jul 16 21:24:09 2008 +0000

      * Implement freopen64, fsetpos64 and fseeko64 for OpenSolaris.

 configure.ac     |    2 +-
 doc/libzzuf.3    |    3 ++
 src/lib-stream.c |   65 +++++++++++++++++++++++++++++++++++++++++------------
 3 files changed, 54 insertions(+), 16 deletions(-)

commit aa047c898566278482244718d3745baca57a8eef
Author: sam
Date:   Wed Jul 16 21:03:37 2008 +0000

      * check-utils: use tail -n X or tail -X depending on the platform.

 test/check-utils |   15 +++++++++++----
 1 files changed, 11 insertions(+), 4 deletions(-)

commit 04576c27a78cc24f3e763d576fed2ebd4a37eff9
Author: sam
Date:   Wed Jul 16 20:53:14 2008 +0000

      * bootstrap: update bootstrapping script for OpenSolaris compatibility.
      * check-utils: do not use grep -q, OpenSolaris doesn't know about it.

 bootstrap        |   32 ++++++++++++++++++++------------
 test/check-utils |    4 ++--
 2 files changed, 22 insertions(+), 14 deletions(-)

commit fcc51f964d5c44865bd78ce6298e4a0eeab68b4b
Author: sam
Date:   Wed Jul 16 20:36:58 2008 +0000

      * Oops, forgot to check in check-md5.

 test/check-md5 |   38 ++++++++++++++++++++++++++++++++++++++
 1 files changed, 38 insertions(+), 0 deletions(-)

commit fa18351b05735031a4234ce1f66a62cfbf5c6b6b
Author: sam
Date:   Wed Jul 16 20:36:14 2008 +0000

      * Add a unit test for MD5 hashes.

 test/Makefile.am    |    8 ++------
 test/check-div0     |   13 ++++++-------
 test/check-memory   |   13 ++++++-------
 test/check-overflow |   13 ++++++-------
 test/check-rng      |    1 -
 test/check-utils    |    1 -
 6 files changed, 20 insertions(+), 29 deletions(-)

commit c628f4cfc8ebab4e3e3e26d52ed7fca6842d1647
Author: sam
Date:   Wed Jul 16 17:23:37 2008 +0000

      * Add a bunch of unit tests to check for zzuf basic capabilities: SIGSEGV
        and SIGFPE detection, memory exhaustion detection.

 .gitignore          |    3 +
 test/Makefile.am    |    4 +-
 test/bug-div0.c     |   31 ++++++++++++
 test/bug-memory.c   |   33 +++++++++++++
 test/bug-overflow.c |   31 ++++++++++++
 test/check-div0     |   58 +++++++++++++++++++++++
 test/check-memory   |   58 +++++++++++++++++++++++
 test/check-overflow |   58 +++++++++++++++++++++++
 test/check-rng      |   77 +++++++++++++++++++++++++++++++
 test/check-utils    |  127 +++++++++++++++++++++++++++++++++++++++++++++++++++
 test/rng            |   77 -------------------------------
 test/utils          |  127 ---------------------------------------------------
 12 files changed, 478 insertions(+), 206 deletions(-)

commit 51aa538c8f2935cb3064ba8662fe63a58cd2e372
Author: sam
Date:   Wed Jul 16 17:23:33 2008 +0000

      * mygetopt.c: fix a parsing issue with short options.

 src/mygetopt.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 17aa5a43d22484586b2b09753446507611d0f0e4
Author: sam
Date:   Wed Jul 16 17:23:29 2008 +0000

      * Fix a few HP-UX warnings caused by missing headers.

 configure.ac     |    2 +-
 src/lib-fd.c     |    3 +++
 src/lib-stream.c |   13 +++++++------
 3 files changed, 11 insertions(+), 7 deletions(-)

commit eac7a73aef04249c393a9cef54d7ce01fc053b75
Author: sam
Date:   Wed Jul 16 17:23:24 2008 +0000

      * Split the test suite into the RNG test and the Unix utils test.

 test/Makefile.am  |    4 +-
 test/rng          |   77 ++++++++++++++++++++++
 test/testsuite.sh |  182 -----------------------------------------------------
 test/utils        |  127 +++++++++++++++++++++++++++++++++++++
 4 files changed, 206 insertions(+), 184 deletions(-)

commit e902607b945acdc11edbb4ab9376dfa9df9bc28a
Author: sam
Date:   Wed Jul 16 09:52:08 2008 +0000

      * zzuf.c: retrieve library object name from libtool's .la file so we don't
        need to hardcode .so, .sl, .dylib etc. for various platforms.

 msvc/config.h   |    3 ++-
 src/Makefile.am |    3 ++-
 src/zzuf.c      |   11 ++++-------
 3 files changed, 8 insertions(+), 9 deletions(-)

commit 22bbfe7ffc1967b0e3b9a8202888386360b43df4
Author: sam
Date:   Wed Jul 16 09:52:02 2008 +0000

      * Implement __srefill() for full HP-UX support on parisc-gcc.

 configure.ac     |    2 +-
 doc/libzzuf.3    |    3 +-
 src/lib-stream.c |   93 +++++++++++++++++++++++++++++++++++++++++++++++++-----
 3 files changed, 87 insertions(+), 11 deletions(-)

commit 7166d404d50ee43c2b2e74fd5a643a932cf59f3f
Author: sam
Date:   Wed Jul 16 09:51:58 2008 +0000

      * zzcat.c: compilation fix for missing headers.

 test/zzcat.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 4db4da9e2c366cf783a372241d033857c6e3a593
Author: sam
Date:   Wed Jul 16 09:51:53 2008 +0000

      * testsuite.h: do not test for grep -a if the option is unknown.

 test/testsuite.sh |   10 +++++++---
 1 files changed, 7 insertions(+), 3 deletions(-)

commit 47230d033a3047ecf6b2677378e4c489c49d1637
Author: sam
Date:   Tue Jul 15 21:34:14 2008 +0000

      * Add a few _INCLUDE_POSIX_SOURCE defines here and there so that we build
        out of the box with HP-UX's c99 compiler.

 configure.ac     |    3 ++-
 src/lib-fd.c     |    1 +
 src/lib-mem.c    |    2 ++
 src/lib-signal.c |    4 +++-
 src/zzuf.c       |    6 ++++++
 test/zzcat.c     |    5 ++++-
 6 files changed, 18 insertions(+), 3 deletions(-)

commit a657d8d193bb487ddc59b339b7b68347f3b8e4ad
Author: sam
Date:   Tue Jul 15 20:16:15 2008 +0000

      * testsuite.sh: use printf instead of echo -n for better portability.

 test/testsuite.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2634a32904d2a7a1f3e1aa378207eabe43dc7908
Author: sam
Date:   Tue Jul 15 20:16:11 2008 +0000

      * Implement additional functions required on HP-UX: __fopen64, __fseeko64,
        __freopen64, __open64, __lseek64.

 configure.ac     |    2 +-
 doc/libzzuf.3    |   10 +++++--
 src/lib-fd.c     |   24 ++++++++++++++--
 src/lib-stream.c |   78 +++++++++++++++++++++++++++++++++++++----------------
 4 files changed, 83 insertions(+), 31 deletions(-)

commit b4cd604e3aa988483a247cc24f0fbf58ba009637
Author: sam
Date:   Tue Jul 15 20:16:06 2008 +0000

      * Build on HP-UX systems: disable unsupported warning flags, define
        _XOPEN_SOURCE_EXTENDED where appropriate, use AC_C_INLINE to avoid using
        the inline keyword when unsupported, and use #pragma INIT for library
        initialisation routines.

 Makefile.am   |    3 ++-
 configure.ac  |   27 ++++++++++++++++++++-------
 m4/cflags.m4  |   14 ++++++++++++++
 src/lib-fd.c  |    2 ++
 src/libzzuf.c |    6 ++++++
 5 files changed, 44 insertions(+), 8 deletions(-)

commit 7b961d0884058ac0c14ce4a1c3079824f2292925
Author: sam
Date:   Tue Jul 15 20:16:02 2008 +0000

      * configure.ac: do not use -fno-strength-reduce -fomit-frame-pointer,
        they're pretty useless for our project.

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2b528b9ae5421f5cbee784bec0c970f93d8e1049
Author: sam
Date:   Tue Jul 15 20:15:58 2008 +0000

      * zzuf.c: reformated the licensing information for zzuf -V.

 src/zzuf.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 043173308b71665026159f0799306381176e39f6
Author: sam
Date:   Tue Jul 15 20:15:53 2008 +0000

      * lib-stream.c: remove an unused variable.

 src/lib-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit aa632fa705e4385a517d273e6934923890ac314a
Author: sam
Date:   Tue Jul 15 20:15:47 2008 +0000

      * Fix a compilation issue on FreeBSD by defining _BSD_SOURCE and including
        <sys/cdefs.h>.

 configure.ac  |    2 +-
 src/lib-mem.c |    5 +++++
 2 files changed, 6 insertions(+), 1 deletions(-)

commit f693089193adcbcce1d64c3a36a1c3ccf8b67104
Author: sam
Date:   Tue Jul 15 20:15:43 2008 +0000

      * Fix the Win32 package build. No, it still doesn't work, it just builds.

 build-win32 |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 67e7ce4cfca6a7c3884cc47c2651db647dd21c86
Author: sam
Date:   Tue Jul 15 20:15:35 2008 +0000

      * Set a default maximum memory usage value to avoid excessive swapping.

 doc/zzuf.1    |    8 ++++++--
 src/libzzuf.h |    4 ++++
 src/opts.c    |    2 +-
 src/zzuf.c    |    2 +-
 4 files changed, 12 insertions(+), 4 deletions(-)

commit c62aa102d10b9efd52c832551bd234d1104e4a63
Author: sam
Date:   Wed Jul 9 10:50:43 2008 +0000

      * Ideas for a zzufrc file.

 TODO |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit acb2eeefb22d770a90c4e947f9e3c9acedc4958a
Author: sam
Date:   Fri Jun 20 06:05:25 2008 +0000

      * Run the testsuite when "make check" is called.

 test/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit db8463a010d4f045b6efd8bed00238d748c1e151
Author: sam
Date:   Fri Jun 20 06:05:13 2008 +0000

      * Avoid a potential shared library attack by never looking for libzzuf in
        the current directory.

 src/zzuf.c |   21 ++++++++++++---------
 1 files changed, 12 insertions(+), 9 deletions(-)

commit 4445e4d91ca716e58d17f7c8ac36e335dfbe393d
Author: sam
Date:   Fri Jun 13 09:31:21 2008 +0000

      * Version 0.12.
      * Updated NEWS and ChangeLog.

 ChangeLog    | 1442 +++++++++++++++++++++++++++++++---------------------------
 NEWS         |    7 +
 configure.ac |    2 +-
 3 files changed, 782 insertions(+), 669 deletions(-)

commit 9bdfb23af5611f775928a3d59cf9c2c5d485c6e1
Author: sam
Date:   Fri Jun 13 09:31:17 2008 +0000

      * Finished the libzzuf manual page.

 doc/libzzuf.3 |   65 +++++++++++++++++++++++++++++++++-----------------------
 1 files changed, 38 insertions(+), 27 deletions(-)

commit b2a9bd1e49519ef729cf08fd2c334b05aad31cf6
Author: sam
Date:   Tue Jun 10 16:21:22 2008 +0000

      * Fix a crash in the realloc() wrapper occurring when dlsym() or dlopen()
        call realloc() with a NULL pointer.

 src/lib-mem.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit e7512ba9002aac3da85786e416945b9b2271c1af
Author: sam
Date:   Tue Jun 10 16:21:17 2008 +0000

      * Do not try to free() on buffers that have been allocated with the real
        malloc, or we may crash unexpectedly, for instance if dlsym("free") calls
        malloc() then free() while free hasn't been loaded yet.

 src/lib-mem.c |    8 +++++++-
 src/libzzuf.c |    6 +++---
 2 files changed, 10 insertions(+), 4 deletions(-)

commit cec5bf9acf967ac2819c3a6c57366586af225040
Author: sam
Date:   Tue Jun 10 16:21:11 2008 +0000

      * Started writing a manual page for libzzuf.

 doc/Makefile.am |    4 +-
 doc/libzzuf.3   |  123 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 doc/zzuf.1      |   48 +--------------------
 3 files changed, 128 insertions(+), 47 deletions(-)

commit f24ef88ab39ca93640531ca5b794d62be66e088e
Author: sam
Date:   Mon May 19 11:25:05 2008 +0000

      * Change -M to mean mebibytes instead of megabytes, because I'm a fucking
        pedant.

 doc/zzuf.1    |   12 ++++++------
 src/libzzuf.c |    5 +++--
 src/zzuf.c    |    2 +-
 3 files changed, 10 insertions(+), 9 deletions(-)

commit 6fb1534dd3fb8a0aa70f002c69a335f8715df4a6
Author: sam
Date:   Mon May 19 11:25:01 2008 +0000

      * Change -F to -j, to mimic make.

 doc/zzuf.1 |   10 +++++-----
 src/zzuf.c |   17 ++++++++++-------
 2 files changed, 15 insertions(+), 12 deletions(-)

commit 165cb3e1d88729e5e7c9b741d83a2d0a6b18918e
Author: sam
Date:   Mon May 19 11:24:56 2008 +0000

      * Allow to omit the right-hand side of the seed range, for indefinite
        fuzzing attempts.

 doc/zzuf.1 |    4 +++-
 src/zzuf.c |    4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 17f520620875c356ef8fefa8643b51717cc9a338
Author: sam
Date:   Mon May 19 11:24:51 2008 +0000

      * Clarify -C0 behaviour.

 doc/zzuf.1 |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 72a58bd7258b83ebdca6065a4159f713109d0d82
Author: sam
Date:   Mon May 19 11:24:46 2008 +0000

      * Add SIGPIPE to the list of crashing signals.

 src/zzuf.c |   29 +++++++++++++++--------------
 1 files changed, 15 insertions(+), 14 deletions(-)

commit 0d13041f540a4825962cf2fce0ff63686b6749e7
Author: sam
Date:   Mon May 19 11:24:41 2008 +0000

      * Fix an invalid cast on the Alpha architecture caused by sockaddr_in*
        having larger alignment requirements than sockaddr*.

 src/lib-fd.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit d8cdd907bbb6d0b45fa0303401378c4dccfe9dfd
Author: sam
Date:   Sun May 18 19:56:52 2008 +0000

      * Version 0.11.
      * Updated NEWS and ChangeLog.

 ChangeLog    | 5839 +++++++++++++++++++++++++++++++---------------------------
 NEWS         |   28 +-
 configure.ac |    2 +-
 3 files changed, 3123 insertions(+), 2746 deletions(-)

commit 8a012199697a3ea4a97b88c44de199be5b9b2b47
Author: sam
Date:   Sun May 18 19:56:48 2008 +0000

      * Minor memory and speed optimisation.

 src/fuzz.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 55d6b282fe64d620c78b8758e02ad0ba394c4ae1
Author: sam
Date:   Sun May 18 18:13:45 2008 +0000

      * Start working on the internal code documentation.

 src/debug.c   |   23 +++++++++++++++--------
 src/fd.c      |    2 +-
 src/libzzuf.c |   46 +++++++++++++++++++++++++++++++++++++++++++---
 3 files changed, 59 insertions(+), 12 deletions(-)

commit b23e6f6d1ffe319bab701461046ab1b16ac86d87
Author: sam
Date:   Sun May 18 12:38:37 2008 +0000

      * Don't use `--' in the testsuite, it is no longer understood.

 test/testsuite.sh |   24 ++++++++++++------------
 1 files changed, 12 insertions(+), 12 deletions(-)

commit 6878caf0233304a9840890f4611841644d4c451b
Author: sam
Date:   Sun May 18 12:38:32 2008 +0000

      * Implement getchar() and getchar_unlocked().

 doc/zzuf.1       |    9 +++++----
 src/lib-stream.c |   42 ++++++++++++++++++++++++++++++------------
 2 files changed, 35 insertions(+), 16 deletions(-)

commit 2195331d79b1d0f13bd1a7d0ac3368e46eb5b68c
Author: sam
Date:   Sun May 18 09:45:53 2008 +0000

      * Minor changes: add quotes between launched program name, update copyright.

 src/zzuf.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 0310e6df18691d5cdf233ddd8705e81de34ce30c
Author: sam
Date:   Sun May 18 09:45:48 2008 +0000

      * Make sure the fgets_unlocked() reimplementation uses fgetc_unlocked(),
        not fgetc().

 src/lib-stream.c |   18 +++++++++---------
 1 files changed, 9 insertions(+), 9 deletions(-)

commit 4f90c5cac54429a342cd3d89158c3ede9aa96a7a
Author: sam
Date:   Sat May 17 23:10:47 2008 +0000

      * Implement fgets_unlocked() and fread_unlocked().

 doc/zzuf.1       |    3 +-
 src/lib-stream.c |  224 +++++++++++++++++++++++++++++++-----------------------
 2 files changed, 131 insertions(+), 96 deletions(-)

commit 366d3e34344bbc1ca7375911f37e2885c5a0c36b
Author: sam
Date:   Sat May 17 23:10:41 2008 +0000

      * Implement getc_unlocked() and fgetc_unlocked().

 configure.ac     |    2 +-
 src/lib-stream.c |   20 ++++++++++++++++++++
 2 files changed, 21 insertions(+), 1 deletions(-)

commit 77696046ec0212a67e66fbcffc52480ea8fbe212
Author: sam
Date:   Sat May 17 13:40:45 2008 +0000

      * Document the new command line parsing behaviour.

 doc/zzuf.1 |   19 ++++++++++---------
 1 files changed, 10 insertions(+), 9 deletions(-)

commit fe0175caa122801c8bc52b125289e6ec953edacb
Author: sam
Date:   Sat May 17 13:40:40 2008 +0000

      * No longer require the "--" trick to separate zzuf's flags and the called
        program's.

 src/zzuf.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 173639a25168855517211031178d4c8ceda416b5
Author: sam
Date:   Fri May 16 22:01:18 2008 +0000

      * Cosmetic: remove trailing spaces from the source code.

 src/debug.c  |    2 +-
 src/fd.c     |    6 +++---
 src/lib-fd.c |    6 +++---
 src/zzuf.c   |    4 ++--
 4 files changed, 9 insertions(+), 9 deletions(-)

commit 85038d0d052fa2021440d33d36e24c460c4a8229
Author: sam
Date:   Fri May 16 22:01:11 2008 +0000

      * Add statistical analysis to the testsuite to check our random number
        generator.

 .gitignore        |    1 +
 test/Makefile.am  |    5 ++-
 test/testsuite.sh |  154 ++++++++++++++++++++++++++++++++++++++--------------
 test/zzero.c      |   36 ++++++++++++
 4 files changed, 153 insertions(+), 43 deletions(-)

commit 3a16d81e016363d774124358758799a578fa9cdf
Author: sam
Date:   Fri May 16 22:01:07 2008 +0000

      * Improve overall randomness. Now even close seeds have very different
        behaviours on which bits are flipped.

 src/fuzz.c |   12 ++++++++++--
 1 files changed, 10 insertions(+), 2 deletions(-)

commit ec33640c4c482a2516dad74e9167b160213505a1
Author: sam
Date:   Fri May 16 22:01:03 2008 +0000

      * Update TODO.

 TODO |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 598a079e5c5cad2ee24f49b6d6831e09be3189a7
Author: sam
Date:   Fri May 16 22:00:58 2008 +0000

      * Update copyright and homepage in the manual page.

 doc/zzuf.1 |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 2fcd5443c4ae9410d253b6854e718d6b09618398
Author: sam
Date:   Sat Apr 26 12:24:57 2008 +0000

      * Implement dup() and dup2(). They are needed for Debian's implementation
        of dd which otherwise causes the regression tests to fail.

 .gitignore   |    2 ++
 configure.ac |    2 +-
 doc/zzuf.1   |    7 ++++---
 src/lib-fd.c |   53 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 60 insertions(+), 4 deletions(-)

commit 167c4bd6a0d95be6dc517ccbb4bbc55b45ab62ca
Author: sam
Date:   Sat Apr 26 11:30:45 2008 +0000

      * Slightly updated the build system.

 .gitignore   |   20 ++++++++++++++++++++
 configure.ac |    9 +++------
 src/zzuf.c   |    2 +-
 3 files changed, 24 insertions(+), 7 deletions(-)

commit afa62fb3427277fface10233dfbb74f447fd4e21
Author: sam
Date:   Sat Apr 12 07:44:34 2008 +0000

      * Set minimal fuzzing ratio to 0.000000001% (less than one bit changed on
        a whole DVD).

 src/fuzz.c    |    4 ++--
 src/libzzuf.h |    5 +++--
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 154aeba35277db385d46a94330f696f2785b790e
Author: sam
Date:   Wed Apr 9 09:49:16 2008 +0000

      * Implement %g in the debug() format string. Incomplete but useful.

 src/debug.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit d362b379676d6fb028d1620ceed5e5991d2353ef
Author: sam
Date:   Sat Nov 3 00:24:46 2007 +0000

      * Version 0.10.
      * Updated NEWS and ChangeLog.

 ChangeLog    |  106 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NEWS         |    4 ++
 configure.ac |    4 +-
 3 files changed, 112 insertions(+), 2 deletions(-)

commit c43c65bc41859913b7ed93dacd49d3d16cbbc1de
Author: sam
Date:   Sat Nov 3 00:22:58 2007 +0000

      * Link libzzuf with winsock because of our use of htons.

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3a67614e84d77eda502fa99b97bf18c67e50fcea
Author: sam
Date:   Sat Nov 3 00:14:40 2007 +0000

      * Documentation updates.

 doc/zzuf.1 |   32 +++++++++++++++++++++-----------
 1 files changed, 21 insertions(+), 11 deletions(-)

commit 5e4355d4f7b887b1b19e6ea648fbbfa98b29b85d
Author: sam
Date:   Sat Nov 3 00:08:43 2007 +0000

      * Do not fuzz non-IP network protocols. They’re too painful to fine-tune.

 src/lib-fd.c |   16 +++++-----------
 1 files changed, 5 insertions(+), 11 deletions(-)

commit 2b366b6aeb34fc47f6ef4dceb6a85fb5e541411d
Author: sam
Date:   Fri Nov 2 23:34:22 2007 +0000

      * Merged the bind() and connect() diversions using macros. They were almost
        identical.
      * Check the addrlen value to avoid crashing with weird protocols.

 src/lib-fd.c |  110 +++++++++++++++++++++------------------------------------
 1 files changed, 41 insertions(+), 69 deletions(-)

commit f724eaddbc5935c45c66f665c2810a17242a22b0
Author: sam
Date:   Fri Nov 2 23:23:25 2007 +0000

      * Divert connect() so that -p/--ports now works with outbound connections.

 src/lib-fd.c |   46 ++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 46 insertions(+), 0 deletions(-)

commit 36a1d6d638e666c43d233668b5b4a322887e1f88
Author: sam
Date:   Fri Nov 2 23:22:11 2007 +0000

      * Look for connect().

 configure.ac |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 641fb3dfef07b1be67a3a2813ce95670db52feb7
Author: sam
Date:   Fri Nov 2 23:07:41 2007 +0000

      * Updated documentation.

 doc/zzuf.1 |   41 +++++++++++++++++++++++++++--------------
 1 files changed, 27 insertions(+), 14 deletions(-)

commit b6158f9d44b968f08e3cda0abd91e5f5b35d1336
Author: sam
Date:   Fri Nov 2 23:01:09 2007 +0000

      * Fix a bug in the -p handling that made it opt-out instead of opt-in.
      * Don’t bother using AF_UNIX, it doesn’t have ports.

 src/fd.c     |   11 +++++++----
 src/lib-fd.c |    3 ---
 2 files changed, 7 insertions(+), 7 deletions(-)

commit a9af95e4e80ba477a0b08fd9f0c1b4f3040419d5
Author: sam
Date:   Fri Nov 2 22:45:54 2007 +0000

      * Network destination port choosing with -p/--ports.
      * Renamed -p/--pick into -l/--list to avoid conflicts.

 src/fd.c      |   33 ++++++++++++++++++++++++---------
 src/fd.h      |    1 +
 src/fuzz.c    |    1 -
 src/fuzz.h    |    3 ++-
 src/lib-fd.c  |   31 +++++++++++++++++++++++++++++--
 src/libzzuf.c |    8 ++++++--
 src/opts.c    |    2 +-
 src/opts.h    |    2 +-
 src/zzuf.c    |   42 +++++++++++++++++++++++++++++++-----------
 9 files changed, 95 insertions(+), 28 deletions(-)

commit b5ac0ce54cd7ab10062c23edb5844450f7a71be0
Author: sam
Date:   Fri Nov 2 21:50:08 2007 +0000

      * Check for <netinet/in.h>, it’s needed for struct sockaddr_in.

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ee8bae2f341cdf5155812858d0e01b444594ebe8
Author: sam
Date:   Fri Nov 2 21:40:38 2007 +0000

      * Support %d, %ld and %lld in addition to %i etc. in debug().

 src/debug.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit a30236149611e24259264a01e372d0878b4d268f
Author: sam
Date:   Fri Nov 2 21:32:18 2007 +0000

      * Log and divert bind() calls.

 src/lib-fd.c |   39 +++++++++++++++++++++++++++++++++------
 1 files changed, 33 insertions(+), 6 deletions(-)

commit a37583961ae5c6bab6d4d8b42cc5df19e050066c
Author: sam
Date:   Fri Nov 2 21:16:57 2007 +0000

      * Check for bind in the configure step.

 configure.ac |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 8015cefe33b79545c06eede75c5b818f32ada822
Author: sam
Date:   Tue Jul 10 15:55:35 2007 +0000

      * Version 0.9. For real, this time.
      * Updated NEWS and ChangeLog.

 ChangeLog |   56 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NEWS      |    1 +
 2 files changed, 57 insertions(+), 0 deletions(-)

commit 82109307cb1fd2798602fba824ce3d80d40a290a
Author: sam
Date:   Tue Jul 10 15:42:37 2007 +0000

      * Documented the new -T / --max-cpu flag.

 doc/zzuf.1 |   22 ++++++++++++++++++----
 1 files changed, 18 insertions(+), 4 deletions(-)

commit 84dd6b2f10b1d9661c63113e6a5bce20525ba940
Author: sam
Date:   Tue Jul 10 15:31:40 2007 +0000

      * -M is megabytes, not bytes. Fixed --help output.

 src/zzuf.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit ea7d338f1ccb0350bc143233f77f572bb3544170
Author: sam
Date:   Tue Jul 10 15:23:18 2007 +0000

      * Implemented -T / --max-cpu for max CPU time limits.

 src/opts.c |    1 +
 src/opts.h |    1 +
 src/zzuf.c |   58 ++++++++++++++++++++++++++++++++++++++++++++++------------
 3 files changed, 48 insertions(+), 12 deletions(-)

commit 48d7ef78d2e06445061eaaaabad7346f92db3198
Author: sam
Date:   Tue Jul 10 14:30:13 2007 +0000

      * Rename -T to -t. -T will be the CPU time limit.

 doc/zzuf.1 |    6 +++---
 src/zzuf.c |   12 ++++++------
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 6480d28eec195c23a5d14c2fe9a0a8371b9b6ab8
Author: sam
Date:   Tue Jul 10 14:26:08 2007 +0000

      * Rename ZZUF_RLIMIT_CONST into ZZUF_RLIMIT_MEM because we're going to have
        the _CPU one as well.

 src/zzuf.c |   32 +++++++++++++++++++-------------
 1 files changed, 19 insertions(+), 13 deletions(-)

commit a8a75acfa14c896c72cd7dbf7bc56e051aa39f6b
Author: sam
Date:   Tue Jul 10 09:01:12 2007 +0000

      * Correct thinko in manpage.

 doc/zzuf.1 |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit a013023cbccb3d2bfe20e6a7d17e43b162078b99
Author: sam
Date:   Tue Jul 10 00:24:35 2007 +0000

      * Version 0.9.
      * Updated NEWS and ChangeLog.

 ChangeLog    |   77 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NEWS         |    5 ++++
 configure.ac |    4 +-
 3 files changed, 84 insertions(+), 2 deletions(-)

commit dba3ff6a2103046dd2dba4ee263498634850938a
Author: sam
Date:   Mon Jul 9 23:51:49 2007 +0000

      * Do not clobber LD_PRELOAD, patch by Sami Liedes. Heavily rewritten.

 AUTHORS    |    2 +-
 src/zzuf.c |   28 ++++++++++++++++++++++------
 2 files changed, 23 insertions(+), 7 deletions(-)

commit fa5646275d2e28dfd1c467c180a42787565d3c45
Author: sam
Date:   Fri Jul 6 20:47:51 2007 +0000

      * Renamed ranges_static into static_ranges.

 src/fd.c     |    7 ++++---
 src/fuzz.c   |    6 +++---
 src/ranges.c |    8 ++++----
 3 files changed, 11 insertions(+), 10 deletions(-)

commit 0698e4c74384530019b888948aeda8d270c0328d
Author: sam
Date:   Fri Jul 6 20:47:38 2007 +0000

      * Documented -p/--pick in the man page.

 doc/zzuf.1 |   18 +++++++++++++++++-
 1 files changed, 17 insertions(+), 1 deletions(-)

commit 2a9e992aa5d22c23a685a59bd28513eacdebd6ce
Author: sam
Date:   Fri Jul 6 14:39:39 2007 +0000

      * Factored common range-parsing code.

 src/Makefile.am |    2 +-
 src/fd.c        |   46 ++--------------------------
 src/fuzz.c      |   46 +++--------------------------
 src/ranges.c    |   87 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/ranges.h    |   21 +++++++++++++
 5 files changed, 118 insertions(+), 84 deletions(-)

commit 13e400ace8a560f60d43d06de1b1fec602726af8
Author: sam
Date:   Fri Jul 6 13:40:55 2007 +0000

      * Added -p flag to cherry pick file descriptors that get fuzzed.

 src/fd.c         |   71 +++++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/fd.h         |    1 +
 src/fuzz.c       |    1 +
 src/fuzz.h       |    1 +
 src/lib-fd.c     |   22 ++++++++++-------
 src/lib-mem.c    |    6 +++-
 src/lib-stream.c |   18 +++++++-------
 src/libzzuf.c    |    4 +++
 src/opts.c       |    3 +-
 src/opts.h       |    2 +-
 src/zzuf.c       |   16 ++++++++++--
 11 files changed, 119 insertions(+), 26 deletions(-)

commit 51c22666edd63a7dc60412de9df931dfe2622b33
Author: sam
Date:   Fri Jul 6 13:34:38 2007 +0000

      * Allow to use debug() everywhere in the code; it'll just do nothing in
        zzuf itself, and will only output stuff in the library.

 src/debug.h |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 4500fde8e6b7184faa5d64cb2e025e952c678345
Author: sam
Date:   Fri Jul 6 13:31:23 2007 +0000

      * Add -DLIBZZUF to the libzzuf build.

 src/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a0f92cc7a9753cdfa9b3d680b5edf0fecb746ef2
Author: sam
Date:   Thu Mar 1 23:57:14 2007 +0000

      * Version 0.8.1.
      * Updated NEWS and ChangeLog.

 ChangeLog    |   41 +++++++++++++++++++++++++++++++++++++++++
 NEWS         |    5 +++++
 configure.ac |    4 ++--
 3 files changed, 48 insertions(+), 2 deletions(-)

commit 3ff283422d19673ac90aebd32ed76fcafba373da
Author: sam
Date:   Thu Mar 1 23:53:51 2007 +0000

      * Save errno in offset_check, thanks to Sami Liedes.

 src/lib-fd.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 5f538eeb17ec50904618e34a695ef3d852cd82d6
Author: sam
Date:   Thu Mar 1 23:52:00 2007 +0000

      * Removed spurious verbosity, thanks to Sami Liedes.

 src/zzuf.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit b1c4e08f1fa877bd97dcb37c11ba71f8d00268ed
Author: sam
Date:   Sat Feb 24 17:37:46 2007 +0000

      * Cleaned up md5.c.
      * Do not convert words to little endian if the architecture is already
        little endian.

 configure.ac |    2 +-
 src/md5.c    |  118 +++++++++++++++++++++++++++++----------------------------
 2 files changed, 61 insertions(+), 59 deletions(-)

commit 53b3e8017e9de57b45fb438f2484ed5d52408c02
Author: sam
Date:   Sat Feb 24 16:37:12 2007 +0000

      * Version 0.8.
      * Updated NEWS and ChangeLog.

 ChangeLog    |  198 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NEWS         |    7 ++
 configure.ac |    4 +-
 3 files changed, 207 insertions(+), 2 deletions(-)

commit 7399adbe977b9c09d5e1e3eb34afccc817b04802
Author: sam
Date:   Sat Feb 24 16:32:54 2007 +0000

      * Fix WTFPL address.

 COPYING |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3e8348887a61ce7bbf751120cbb3510cf9927de0
Author: sam
Date:   Sat Feb 24 16:20:42 2007 +0000

      * Minor win32 cosmetic updates.

 src/zzuf.c |   29 +++++++++++++++--------------
 1 files changed, 15 insertions(+), 14 deletions(-)

commit aadd0d1a56d6b246294875cd1aa6f5dfd0bf7359
Author: sam
Date:   Tue Feb 20 18:18:27 2007 +0000

      * OS X doesn’t have MAP_ANONYMOUS, alias it to MAP_ANON.

 src/lib-mem.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 79f35f770e0326c476ec08ab2c20308baa6ec239
Author: sam
Date:   Mon Feb 19 10:28:16 2007 +0000

      * Use mmap() instead of malloc() in the mmap() reimplementation so that
        returned values are not in the heap.

 src/lib-mem.c |   20 +++++++++++++++-----
 1 files changed, 15 insertions(+), 5 deletions(-)

commit 68c3ce62371e6745e1e413e4a1290deed9d885f7
Author: sam
Date:   Mon Feb 19 10:26:41 2007 +0000

      * Check for getpagesize() at configure time.

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6c37047b5153af8d41b6fdd715d0cf4053ce4fb4
Author: sam
Date:   Mon Feb 19 10:25:54 2007 +0000

      * Check mmap() return value.
      * Don't pass offsets to mmap() that are not page aligned.

 test/zzcat.c |   18 ++++++++++++++----
 1 files changed, 14 insertions(+), 4 deletions(-)

commit 555502122bd0bcb99c667b14f340033c460e7af4
Author: sam
Date:   Mon Feb 19 09:28:52 2007 +0000

      * Oops, fix compilation warning.

 test/zzcat.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a482e0becc8f63917dcf466cf8153cf45c243d20
Author: sam
Date:   Mon Feb 19 09:16:10 2007 +0000

      * Added mmap() to the testsuite.

 test/testsuite.sh |    5 +++--
 test/zzcat.c      |   22 ++++++++++++++++++++++
 2 files changed, 25 insertions(+), 2 deletions(-)

commit d4c5389b2bdc703ded03b2b15090af48792bc156
Author: sam
Date:   Fri Feb 9 01:52:59 2007 +0000

      * Improved win32 pipes.

 src/zzuf.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 3b059b7987e8f1ad852aa73b5084580079025a12
Author: sam
Date:   Fri Feb 9 01:33:02 2007 +0000

      * Use doubles, not float. Fixes an issue when using the default ratio value.

 src/libzzuf.h |    6 +-
 src/zzuf.c    |  148 +++++++++++++++++++++++++++++----------------------------
 2 files changed, 79 insertions(+), 75 deletions(-)

commit f75d9ac051b4d8162c9abf905d9f8ae645cf0021
Author: sam
Date:   Thu Feb 8 23:08:38 2007 +0000

      * Disable -M when setrlimit isn't available.

 src/zzuf.c |   15 +++++++++++++--
 1 files changed, 13 insertions(+), 2 deletions(-)

commit 5c36363504617bb94c43977ada24de0f6daa4309
Author: sam
Date:   Thu Feb 8 21:51:37 2007 +0000

      * OpenBSD support for setrlimit().

 doc/zzuf.1 |    3 +--
 src/zzuf.c |    2 ++
 2 files changed, 3 insertions(+), 2 deletions(-)

commit ffb7d8acf3f83e3aa3e75007997c32ac948934c2
Author: sam
Date:   Thu Feb 8 17:23:48 2007 +0000

      * Handle architectures that don't have RLIMIT_AS (like OpenBSD).

 doc/zzuf.1 |    3 ++-
 src/zzuf.c |   10 +++++++++-
 2 files changed, 11 insertions(+), 2 deletions(-)

commit 7c708caf85faaf4a7c539739bd691c583bc0567f
Author: sam
Date:   Fri Feb 2 11:58:06 2007 +0000

      * Fixed more MSVC compilation warnings.

 msvc/config.h  |    2 +-
 src/fuzz.c     |    9 +++++----
 src/libzzuf.h  |    2 +-
 src/mygetopt.c |    2 +-
 src/zzuf.c     |    6 +++---
 5 files changed, 11 insertions(+), 10 deletions(-)

commit 35095929e22fca97ca4c3e54ca9023fc5c00ce88
Author: sam
Date:   Fri Feb 2 11:29:27 2007 +0000

      * Fixed a minor warning and commented our printf-like function.

 src/debug.c |   23 ++++++++++-------------
 1 files changed, 10 insertions(+), 13 deletions(-)

commit 0a6d1d5c0047086a86d7195cf70adfc96f1faa5b
Author: sam
Date:   Thu Feb 1 22:50:34 2007 +0000

      * Added mygetopt files to the MSVC project.

 msvc/zzuf.vcproj |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 7ca5ac191fafa696003ab2005a7cae7ae0a7727f
Author: sam
Date:   Thu Feb 1 22:33:07 2007 +0000

      * Reimplemented getopt_long. We use our replacement even if simple getopt
        is available on the operating system.

 configure.ac    |    9 +++-
 src/Makefile.am |    6 ++-
 src/mygetopt.c  |  122 +++++++++++++++++++++++++++++++++++++++++++++++
 src/mygetopt.h  |   31 ++++++++++++
 src/zzuf.c      |  141 ++++++++++++++++++------------------------------------
 5 files changed, 212 insertions(+), 97 deletions(-)

commit c4bc06ccc4fb12b17c657a1bb89bf3feb68b2f2a
Author: sam
Date:   Thu Feb 1 22:20:48 2007 +0000

      * Fixed a few signed/unsigned confusions.

 src/fuzz.c    |    6 +++---
 src/fuzz.h    |    2 +-
 src/libzzuf.h |    2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 03ac083b79a6486a46eb390c80e6c0d81bbd43d6
Author: sam
Date:   Thu Feb 1 19:27:21 2007 +0000

      * Fuck notepad and its fucking CRLFs.

 configure.ac |  166 +++++++++++++++++++++++++++++-----------------------------
 1 files changed, 83 insertions(+), 83 deletions(-)

commit b2bfc3cc1c03786104b4f06b692ac49005a06b97
Author: sam
Date:   Thu Feb 1 18:19:03 2007 +0000

      * Fixed a few 64-bit issues reported by MSVC.
      * More Win32 portability fixes.

 configure.ac     |  166 +++++++++++++++++++++++++++---------------------------
 msvc/config.h    |    4 +-
 src/debug.c      |    3 +
 src/fd.c         |    8 +-
 src/fd.h         |    6 +-
 src/fuzz.c       |   12 ++--
 src/lib-mem.c    |    2 +-
 src/lib-stream.c |    4 +-
 src/libzzuf.c    |    3 +
 9 files changed, 108 insertions(+), 100 deletions(-)

commit ce794ecefcbea23e4958077c690e266c7f37ab27
Author: sam
Date:   Thu Feb 1 16:41:54 2007 +0000

      * Added an MSVC project.

 msvc/config.h       |   43 ++++++++++++
 msvc/libzzuf.vcproj |  187 +++++++++++++++++++++++++++++++++++++++++++++++++++
 msvc/zzuf.sln       |   29 ++++++++
 msvc/zzuf.vcproj    |  182 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/zzuf.c          |   13 ++--
 5 files changed, 448 insertions(+), 6 deletions(-)

commit 5ecc0cd95aae02de6702af8df7baa7acc8e8e132
Author: sam
Date:   Thu Feb 1 16:08:33 2007 +0000

      * Check for <unistd.h>, too. MSVC doesn't have it.

 configure.ac     |    2 +-
 src/debug.c      |    4 +++-
 src/lib-fd.c     |    4 +++-
 src/lib-mem.c    |    4 +++-
 src/lib-stream.c |    2 +-
 src/libzzuf.c    |    4 +++-
 src/zzuf.c       |    4 +++-
 test/zzcat.c     |    4 +++-
 8 files changed, 20 insertions(+), 8 deletions(-)

commit fda34eaef8e033e5d6996c303133595f1fae7430
Author: sam
Date:   Thu Feb 1 15:57:10 2007 +0000

      * Only include <sys/time.h> conditionally.

 configure.ac |    2 +-
 src/timer.c  |    4 +++-
 src/zzuf.c   |    1 -
 3 files changed, 4 insertions(+), 3 deletions(-)

commit 88bd22bb3f3d007d70f99980dc716878775cc188
Author: sam
Date:   Sun Jan 28 01:17:49 2007 +0000

      * Version 0.7.
      * Updated NEWS and ChangeLog.

 ChangeLog    |  122 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NEWS         |    6 +++
 configure.ac |    4 +-
 3 files changed, 130 insertions(+), 2 deletions(-)

commit 0867c50fbe1856118459e194964e89975a2c4a20
Author: sam
Date:   Sun Jan 28 00:53:19 2007 +0000

      * Merged fdcat and streamcat into zzcat.

 test/Makefile.am  |    6 +--
 test/fdcat.c      |   76 ------------------------------------
 test/streamcat.c  |   75 -----------------------------------
 test/testsuite.sh |   11 ++---
 test/zzcat.c      |  111 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 118 insertions(+), 161 deletions(-)

commit 21a27a53177eac9270b93fa40c35e218d286e2de
Author: sam
Date:   Sun Jan 28 00:50:53 2007 +0000

      * Print "EOF" instead of -1 when it means EOF.

 src/lib-stream.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 0ea0389f79de7785206506c5737e99633acb44fb
Author: sam
Date:   Sun Jan 28 00:22:23 2007 +0000

      * Oops, fixed syntax error.

 src/lib-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 1e5d26591bb85d1a33b6dcd60bbc56b7d3b37f2e
Author: sam
Date:   Sun Jan 28 00:21:58 2007 +0000

      * Better debug messages for special cases (eg. fgetc returning -1).

 src/lib-stream.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 7aacef91a13851a3bb1fb81725a0fa622dbe522d
Author: sam
Date:   Sat Jan 27 21:40:31 2007 +0000

      * Updated testsuite to use our own files instead of /dev/*.

 test/Makefile.am  |    2 +-
 test/file-00      |  Bin 0 -> 32768 bytes
 test/file-ff      |    1 +
 test/file-random  |  Bin 0 -> 32768 bytes
 test/file-text    |  450 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 test/testsuite.sh |   44 +-----
 6 files changed, 459 insertions(+), 38 deletions(-)

commit 5aaac19407fde552b9b4d7188931c48092b61069
Author: sam
Date:   Sat Jan 27 19:05:46 2007 +0000

      * Implemented -f/--fuzzing (fuzzing mode).

 doc/zzuf.1 |   22 +++++++++++++++++++---
 src/fuzz.c |   37 +++++++++++++++++++++++++++++++++++--
 src/fuzz.h |    1 +
 src/opts.c |    2 +-
 src/opts.h |    2 +-
 src/zzuf.c |   22 ++++++++++++++++------
 6 files changed, 73 insertions(+), 13 deletions(-)

commit c253e61cee6f2004901eec04b9b807773d0b1068
Author: sam
Date:   Sat Jan 27 15:13:34 2007 +0000

      * Better ungetc() implementation. Now we don't need to care about the
        fuzzing method.

 src/fd.c         |    1 +
 src/fuzz.c       |   10 +++++++++-
 src/lib-stream.c |   20 +++++++++-----------
 src/libzzuf.h    |    1 +
 4 files changed, 20 insertions(+), 12 deletions(-)

commit 7bb45612e2bbf36c78b9cdc95563ee4c9e0dae6d
Author: sam
Date:   Thu Jan 25 22:34:28 2007 +0000

      * Carry DEBUG_FILENO in the ZZUF_DEBUG environment variable.

 src/debug.c   |   50 +++++++++++++++++++++++++-------------------------
 src/lib-fd.c  |    2 +-
 src/libzzuf.c |    6 +++---
 src/libzzuf.h |    5 +----
 src/zzuf.c    |    6 +++++-
 5 files changed, 35 insertions(+), 34 deletions(-)

commit 9c75d64d33cc8960e22aac2600afb5ac8edc7058
Author: sam
Date:   Thu Jan 25 22:07:23 2007 +0000

      * Initialise malloc-related functions earlier. They're needed for regex
        initialisation amongst others.

 src/libzzuf.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 2cad7c8c277a0b948f74b3b6a28e323dc1f5c99c
Author: sam
Date:   Thu Jan 25 21:43:37 2007 +0000

      * Put a few debug messages in malloc-related functions when they use our
        custom buffer.

 src/lib-mem.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 211870d75e2e86c9804c1ddc2b366be3ee52b70d
Author: sam
Date:   Thu Jan 25 20:18:34 2007 +0000

      * Updated NEWS.

 NEWS |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 0227f9b36ea5a3456d7f980b7fcacb55569ff358
Author: sam
Date:   Thu Jan 25 19:55:20 2007 +0000

      * Crap! Fixed memory manager initialisation. And sticking that into the
        0.6.1 tarball, no one will notice! (ha ha ha)

 src/lib-mem.c |   10 +++++++++-
 src/libzzuf.c |    1 +
 src/libzzuf.h |    3 +++
 3 files changed, 13 insertions(+), 1 deletions(-)

commit 7bc4184eb259c03bee220bebf9b4f22c81da314a
Author: sam
Date:   Thu Jan 25 16:56:22 2007 +0000

      * Version 0.6.1.
      * Updated NEWS and ChangeLog.

 ChangeLog    |   32 ++++++++++++++++++++++++++++++++
 NEWS         |    4 ++++
 configure.ac |    4 ++--
 3 files changed, 38 insertions(+), 2 deletions(-)

commit 2cfd6dc543da53a2b3005bfdd18a8f8116a9d74e
Author: sam
Date:   Thu Jan 25 15:33:22 2007 +0000

      * More verbosity in fread().

 src/lib-stream.c |   15 +++++++++++++--
 1 files changed, 13 insertions(+), 2 deletions(-)

commit f5a48c25b141d5fb0b827fafb39a4d1660aff20d
Author: sam
Date:   Thu Jan 25 15:28:24 2007 +0000

      * Fixed an index inconsistency bug in fread().

 src/lib-stream.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit d603953fb925367cf2d282d6ec7939da96e59fbf
Author: sam
Date:   Thu Jan 25 14:56:18 2007 +0000

      * Grrr, fixed a bug in finfo() that corrupted the display.

 src/zzuf.c |   24 ++++++++++++------------
 1 files changed, 12 insertions(+), 12 deletions(-)

commit 126441f91deaf5fea92aefdc79714f2984daf489
Author: sam
Date:   Thu Jan 25 13:28:40 2007 +0000

      * Version 0.6.
      * Updated NEWS and ChangeLog.

 ChangeLog    |  334 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NEWS         |    7 ++
 configure.ac |    4 +-
 src/zzuf.c   |   72 ++++++++-----
 4 files changed, 385 insertions(+), 32 deletions(-)

commit a3b6f5242d5f303d0f6617b2d9d9a0e826492637
Author: sam
Date:   Thu Jan 25 12:15:47 2007 +0000

      * Added a networking example using socat.

 doc/zzuf.1 |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 2cb2bb91d3ff787231c353637692098af07dc287
Author: sam
Date:   Thu Jan 25 11:59:33 2007 +0000

      * Oops, fix in-tree preloading!

 src/opts.h |    3 ++-
 src/zzuf.c |   13 +++++++------
 2 files changed, 9 insertions(+), 7 deletions(-)

commit 051665e7ccaccc5a9d3c70de4c1841912d9051e5
Author: sam
Date:   Thu Jan 25 11:47:44 2007 +0000

      * Put opts->bytes handling in the right place.

 src/zzuf.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit 0f0620a7e8840aa153052a705c432b5716e6f507
Author: sam
Date:   Thu Jan 25 11:40:27 2007 +0000

      * Implemented -b/--bytes to restrict fuzzing to specific offsets.

 doc/zzuf.1    |   46 ++++++++++++++++++++++++++++----------------
 src/fuzz.c    |   59 ++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 src/fuzz.h    |    1 +
 src/libzzuf.c |    4 +++
 src/opts.c    |    2 +-
 src/opts.h    |    2 +-
 src/zzuf.c    |   30 +++++++++++++++++++++-------
 7 files changed, 114 insertions(+), 30 deletions(-)

commit 5b9cc9ef26d5f4dfbe04835f0ea884f903143004
Author: sam
Date:   Thu Jan 25 02:16:00 2007 +0000

      * Fixed ifdef typo.

 src/zzuf.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit abfa806d1873d1e13e23e1e07e8f7a8315f37519
Author: sam
Date:   Thu Jan 25 01:10:10 2007 +0000

      * Updated TODO list.

 TODO |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 49aca7e7e5b3b511d3d259c180a8375c0f3e0bd8
Author: sam
Date:   Wed Jan 24 15:06:17 2007 +0000

      * Added DLL injection to the Win32 port attempt.

 build-win32     |    5 +-
 configure.ac    |    9 +-
 src/Makefile.am |    4 +-
 src/opts.h      |    2 +-
 src/timer.c     |   26 +++++
 src/zzuf.c      |  334 ++++++++++++++++++++++++++++++++++++++++++++-----------
 6 files changed, 309 insertions(+), 71 deletions(-)

commit 0a51b0d9cf032da94b1d6ee3b500f5555fb98d54
Author: sam
Date:   Tue Jan 23 15:38:18 2007 +0000

      * Added DLL initialisation code for Win32.

 build-win32     |   31 +++++++++++++++
 configure.ac    |   15 +++++++-
 src/Makefile.am |    8 ++--
 src/lib-load.h  |   13 ++----
 src/libzzuf.c   |   31 +++++++++++++++
 src/libzzuf.h   |    4 --
 src/sys.c       |  114 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/sys.h       |   20 ++++++++++
 src/zzuf.c      |    4 ++
 9 files changed, 222 insertions(+), 18 deletions(-)

commit dbba79b87a77149178da7d64f45db5b63736e7da
Author: sam
Date:   Tue Jan 23 12:16:50 2007 +0000

      * Fix minor memory leak.

 src/fd.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 8c133628484a390c6f8ddc9069e9ad9125c70ea9
Author: sam
Date:   Tue Jan 23 08:45:47 2007 +0000

      * Put either ORIG() or NEW(() around functions, because the naming scheme is
        likely to change for the Win32 port.

 src/lib-fd.c     |  103 ++++++++++++++++++++++++----------------------
 src/lib-load.h   |    5 ++
 src/lib-mem.c    |   84 +++++++++++++++++++-------------------
 src/lib-signal.c |   21 +++++-----
 src/lib-stream.c |  120 +++++++++++++++++++++++++++---------------------------
 src/zzuf.c       |    3 +
 6 files changed, 174 insertions(+), 162 deletions(-)

commit 43989d8729a927d9b0b3ea8c6d7cf1f3c8b3b9c7
Author: sam
Date:   Thu Jan 18 21:04:34 2007 +0000

      * Minor documentation updates.

 doc/zzuf.1 |    8 ++++----
 src/zzuf.c |    4 ++--
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 2ee5f1dae7f12321fad014532ed1b4d477aea0c7
Author: sam
Date:   Thu Jan 18 18:45:58 2007 +0000

      * Minor improvement in the locking mechanism.

 src/fd.c         |   13 +++++++------
 src/lib-stream.c |    4 +---
 2 files changed, 8 insertions(+), 9 deletions(-)

commit 27e5de91475bf2abfa81c051be04c40d1ed723ef
Author: sam
Date:   Thu Jan 18 12:32:31 2007 +0000

      * Check recv() return type: int on Linux, ssize_t on OS X.

 configure.ac |    9 +++++++++
 src/lib-fd.c |   12 ++++++------
 2 files changed, 15 insertions(+), 6 deletions(-)

commit b09372fe8d0f5ce9291ba390ee01b510b48d250a
Author: sam
Date:   Thu Jan 18 00:21:07 2007 +0000

      * Added enough autoconf checks and #ifdefs so that libzzuf builds on Win32.
        zzuf itself doesn't build yet, though.

 configure.ac     |   11 ++++++-
 src/fd.c         |   22 ++++++++++++--
 src/lib-fd.c     |   70 ++++++++++++++++++++++++++++++++++++++------
 src/lib-load.h   |   24 +++++++++++----
 src/lib-mem.c    |   37 +++++++++++++++++------
 src/lib-signal.c |   19 ++++++++----
 src/lib-stream.c |   37 +++++++++++------------
 src/libzzuf.c    |    1 -
 src/zzuf.c       |   84 ++++++++++++++++++++++++++++++++++++++++++++---------
 9 files changed, 232 insertions(+), 73 deletions(-)

commit 37c26496b451f74cdab930ab7ee21a1f002e5f5f
Author: sam
Date:   Wed Jan 17 21:52:44 2007 +0000

      * Replaced _zz_disabled with a less stinky API. Still not thread safe, does
        not recover very well from errors, but why care?

 src/fd.c         |   41 +++++++++++++++++++++++++++++++++++-
 src/fd.h         |    3 ++
 src/lib-fd.c     |   28 ++++++++++++------------
 src/lib-mem.c    |    4 +-
 src/lib-stream.c |   61 +++++++++++++++++++++++++++--------------------------
 src/libzzuf.c    |    1 -
 6 files changed, 90 insertions(+), 48 deletions(-)

commit cdf161608c05122bc57c38bdf2eacac0494786a9
Author: sam
Date:   Wed Jan 17 21:12:27 2007 +0000

      * Added aio_read() and aio_return(). They don’t work well yet, I’ll need
        to fix the _zz_disabled mess first.

 doc/zzuf.1   |    2 +-
 src/fuzz.c   |    4 ++--
 src/fuzz.h   |    2 +-
 src/lib-fd.c |   52 +++++++++++++++++++++++++++++++++++++++++++++++++++-
 4 files changed, 55 insertions(+), 5 deletions(-)

commit 616829f8634dc509b8debb7d30c282be89ccb3bb
Author: sam
Date:   Wed Jan 17 19:48:23 2007 +0000

      * Reorganised code, got rid of global variables.

 src/Makefile.am |    2 +-
 src/opts.c      |   65 ++++++++++
 src/opts.h      |   60 +++++++++
 src/zzuf.c      |  363 ++++++++++++++++++++++++++-----------------------------
 4 files changed, 297 insertions(+), 193 deletions(-)

commit 25e26576e3cafe6ccfbd46fac35b10e29a198ebb
Author: sam
Date:   Wed Jan 17 17:14:22 2007 +0000

      * recvmsg() support by Rémi Denis-Courmont.
      * Minor code reorganisation.

 AUTHORS      |    6 ++--
 doc/zzuf.1   |    3 +-
 src/lib-fd.c |   83 ++++++++++++++++++++++++++++++++++++++-------------------
 3 files changed, 60 insertions(+), 32 deletions(-)

commit 6391dda196b9ed90e36b303fb2304904d4d3e17b
Author: sam
Date:   Wed Jan 17 16:32:45 2007 +0000

      * Improved recvfrom() debug information.
      * Implemented recv().

 src/lib-fd.c |   47 ++++++++++++++++++++++++++++++++++++++++-------
 1 files changed, 40 insertions(+), 7 deletions(-)

commit 1f207fbdd82bcb9f454de6060f9076c0a3fccb64
Author: sam
Date:   Wed Jan 17 16:26:40 2007 +0000

      * Add %x to the format string parameters supported by debug().

 src/debug.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 0a9f3051c622db53352dbc95e01545e20212a366
Author: sam
Date:   Wed Jan 17 15:31:40 2007 +0000

      * Improved %c usage in our custom fprintf() implementation.

 src/debug.c      |    6 ++++++
 src/lib-stream.c |   12 +++---------
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 10f5871609a410b7b225e14a51a18efac3dc6381
Author: sam
Date:   Wed Jan 17 15:21:09 2007 +0000

      * Use __func__ wherever possible.

 src/lib-fd.c     |   36 ++++++++++++++++++------------------
 src/lib-load.h   |   12 +++++++++++-
 src/lib-mem.c    |   25 +++++++++++++------------
 src/lib-signal.c |    4 ++--
 src/lib-stream.c |   33 +++++++++++++++++----------------
 5 files changed, 61 insertions(+), 49 deletions(-)

commit c6aa547ceb74a0226f47359be971ca09f87cb506
Author: sam
Date:   Wed Jan 17 15:07:35 2007 +0000

      * recvfrom() support from Dominik Kuhlen.

 AUTHORS      |    1 +
 doc/zzuf.1   |    2 +-
 src/lib-fd.c |   33 +++++++++++++++++++++++++++++++++
 3 files changed, 35 insertions(+), 1 deletions(-)

commit 831c29045116d3a3690a363785e508364bd5818d
Author: sam
Date:   Wed Jan 17 15:02:05 2007 +0000

      * Print "NULL" instead of "(nil)" when printing null pointers.

 src/debug.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c00ae0099af84dd8711e6cedc426128ecd8199a6
Author: sam
Date:   Wed Jan 17 14:35:12 2007 +0000

      * Allow -r 0.0 again. Fixed the testsuite accordingly.

 src/fd.c          |    9 +++++++++
 test/testsuite.sh |   15 +++++++++++++--
 2 files changed, 22 insertions(+), 2 deletions(-)

commit 2a5326a69ef6ce86b261970ed352d920dd534d64
Author: sam
Date:   Wed Jan 17 13:46:38 2007 +0000

      * Moved files around.

 src/Makefile.am   |    2 +-
 src/lib-fd.c      |  309 ++++++++++++++++++++++++++++
 src/lib-load.h    |   29 +++
 src/lib-mem.c     |  302 +++++++++++++++++++++++++++
 src/lib-signal.c  |  125 ++++++++++++
 src/lib-stream.c  |  582 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/load-fd.c     |  309 ----------------------------
 src/load-mem.c    |  302 ---------------------------
 src/load-signal.c |  125 ------------
 src/load-stream.c |  582 -----------------------------------------------------
 src/load.h        |   29 ---
 11 files changed, 1348 insertions(+), 1348 deletions(-)

commit f685c88375b666876ed034a9cf15458497ea6b96
Author: sam
Date:   Wed Jan 17 13:42:18 2007 +0000

      * Suggest jot instead of seq in the examples.

 doc/zzuf.1 |   20 +++++++++++---------
 1 files changed, 11 insertions(+), 9 deletions(-)

commit 10d4511b58547dcac91305c206e670a60bb6a1be
Author: sam
Date:   Wed Jan 17 07:22:10 2007 +0000

      * Fix a longopt parsing crash, thanks to Matti Hämäläinen.

 src/zzuf.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f757f49d51d49b3277f51676be6af2a717413d7d
Author: sam
Date:   Wed Jan 17 07:21:40 2007 +0000

      * Fix testsuite by printing MD5 hashes to stdout.

 doc/zzuf.1 |    5 +++--
 src/zzuf.c |    6 ++++--
 2 files changed, 7 insertions(+), 4 deletions(-)

commit 4bcb10325a090f40ec7115136b797922417fb811
Author: sam
Date:   Tue Jan 16 14:36:33 2007 +0000

      * Got rid of the *_load() functions. Now each diverted function is supposed
        to check that the *_orig() functions it calls are properly loaded.

 src/libzzuf.c     |    6 ------
 src/load-fd.c     |   30 +++++++-----------------------
 src/load-mem.c    |   24 ------------------------
 src/load-signal.c |    6 ------
 src/load-stream.c |   43 ++++---------------------------------------
 src/load.h        |    5 -----
 6 files changed, 11 insertions(+), 103 deletions(-)

commit 090bcb800f3ed266136bbd1807c8a4db9e147f31
Author: sam
Date:   Tue Jan 16 14:21:28 2007 +0000

      * pread() implementation, thanks to Clément Stenac.

 AUTHORS       |    1 +
 doc/zzuf.1    |    4 ++--
 src/load-fd.c |   37 +++++++++++++++++++++++++++++++++++++
 3 files changed, 40 insertions(+), 2 deletions(-)

commit d228086399957bba9a211649e4b8a03fb9a9c39f
Author: sam
Date:   Tue Jan 16 14:06:57 2007 +0000

      * Don't do the offset sanity check on non-seekable devices.

 src/load-fd.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit fbc569c967df2506411454607eb10fd6d5b8f39c
Author: sam
Date:   Tue Jan 16 13:54:34 2007 +0000

      * readv() implementation, thanks to Rémi Denis-Courmont.

 AUTHORS       |    7 ++++++-
 doc/zzuf.1    |    4 ++--
 src/load-fd.c |   53 +++++++++++++++++++++++++++++++++++++++++++++--------
 3 files changed, 53 insertions(+), 11 deletions(-)

commit f07251d9f2876021e32806c95582b99aa0318313
Author: sam
Date:   Mon Jan 15 13:28:19 2007 +0000

      * Use seq instead of awk in the example, to make shorter code. I know it
        won't work on BSD systems, but should I care?

 doc/zzuf.1 |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 7233748dd9cfe1ebc7e959a6ecb2372d228e6f7d
Author: sam
Date:   Sun Jan 14 23:56:39 2007 +0000

      * Version 0.5.
      * Updated NEWS and ChangeLog.

 ChangeLog    |  178 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NEWS         |    6 ++
 TODO         |    3 +-
 configure.ac |    4 +-
 4 files changed, 188 insertions(+), 3 deletions(-)

commit f4f8f289173d4f4f97f1b82cebaa8dd4786c9c59
Author: sam
Date:   Sun Jan 14 23:42:34 2007 +0000

      * interval -> range.

 doc/zzuf.1 |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit e75edd4cdcc7f00172b5e19e3d925d851d67f27c
Author: sam
Date:   Sun Jan 14 23:41:03 2007 +0000

      * Support ranges with the -r flag.

 configure.ac    |    2 +
 doc/zzuf.1      |   29 ++++++++----
 src/Makefile.am |    3 +-
 src/fd.c        |   40 +++++++++++++---
 src/fd.h        |    3 +-
 src/libzzuf.c   |    9 ++--
 src/zzuf.c      |  131 ++++++++++++++++++++++++++++++-------------------------
 7 files changed, 134 insertions(+), 83 deletions(-)

commit 50685b028b1aca810e99992a2b6e41cec18f2f15
Author: sam
Date:   Sun Jan 14 20:47:18 2007 +0000

      * Oops, ratio should be a double, not a float.

 src/fd.c      |    4 ++--
 src/fd.h      |    2 +-
 src/libzzuf.h |    2 +-
 src/zzuf.c    |    6 +++---
 4 files changed, 7 insertions(+), 7 deletions(-)

commit c376af60fc3be24137e11df9b3bc3cef5e013e6b
Author: sam
Date:   Sun Jan 14 20:28:09 2007 +0000

      * Exit non-zero if one process crashed.

 doc/zzuf.1 |    4 ++++
 src/zzuf.c |    2 +-
 2 files changed, 5 insertions(+), 1 deletions(-)

commit e394452529ee65c790683b7bdc58b10ea2906d32
Author: sam
Date:   Sun Jan 14 20:18:31 2007 +0000

      * Display our information to stderr, not stdout. Documented that.

 doc/zzuf.1 |    2 +-
 src/zzuf.c |   19 ++++++++-----------
 2 files changed, 9 insertions(+), 12 deletions(-)

commit 1dec769822103e275fdab027720a719b9f092bae
Author: sam
Date:   Sun Jan 14 20:17:45 2007 +0000

      * Only display our own kills in verbose mode.
      * Factorise min/max ratio values.

 src/fd.c      |   12 ++++++------
 src/libzzuf.h |    8 ++++++++
 src/zzuf.c    |   38 ++++++++++++++++++++++++++------------
 3 files changed, 40 insertions(+), 18 deletions(-)

commit 1ba41a8a18beb7ffb091a4e9f7bd3a0abb9903ee
Author: sam
Date:   Sun Jan 14 17:47:01 2007 +0000

      * Added -v/--verbose (unused yet).

 doc/zzuf.1 |   12 ++++++++----
 src/zzuf.c |   21 ++++++++++++++-------
 2 files changed, 22 insertions(+), 11 deletions(-)

commit daa02f8b5c5f027cd339fcbbbd474505d285a633
Author: sam
Date:   Sun Jan 14 11:03:37 2007 +0000

      * Set --version to -V, not -v. We'll use -v for verbose.

 doc/zzuf.1 |    4 ++--
 src/zzuf.c |   14 +++++++-------
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 3bc06e53d6f4112a6e2450f755543402483759bd
Author: sam
Date:   Sun Jan 14 01:03:44 2007 +0000

      * Fix a problem with filedescriptor 17 being reused for other purposes than
        the debugging channel.
      * Print signal name, eg. SIGABRT instead of just "signal 6".

 src/zzuf.c |   45 +++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 41 insertions(+), 4 deletions(-)

commit f74c5b1beb463313f8f0dd323cecd96d41f29ce8
Author: sam
Date:   Sat Jan 13 22:47:56 2007 +0000

      * Minor documentation layout fix.

 doc/zzuf.1 |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit ad0461ffac346dc50039c8b14a53c002d88d367a
Author: sam
Date:   Sat Jan 13 19:33:48 2007 +0000

      * Added auto-increment mode. Not very handy to use yet.

 doc/zzuf.1    |   20 ++++++++++++++++----
 src/fd.c      |   35 ++++++++++++++++++++++++++++++++++-
 src/fd.h      |    3 +++
 src/fuzz.c    |   29 ++++++-----------------------
 src/fuzz.h    |    2 --
 src/libzzuf.c |    4 ++++
 src/libzzuf.h |   15 +++++++++------
 src/zzuf.c    |   16 +++++++++++-----
 8 files changed, 83 insertions(+), 41 deletions(-)

commit 0efc21cdd92450880bfdeb98690a37aef4d88deb
Author: sam
Date:   Sat Jan 13 18:00:03 2007 +0000

      * Print program PID when initialising libzzuf.

 src/libzzuf.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 7db0ab13de04d69d68caa6d36b2763ffca9d9b92
Author: sam
Date:   Sat Jan 13 10:59:07 2007 +0000

      * Fixed -c behaviour. Sometimes apps open "$PWD/file" when asked to
        simply open "file" (eg. eog).

 src/zzuf.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit f47c46a3c183a44a0577c02c341bfa00d7e25252
Author: sam
Date:   Sat Jan 13 10:50:38 2007 +0000

      * Implemented -D/--delay to avoid fork bombs.

 doc/zzuf.1 |   19 ++++++++++++-------
 src/zzuf.c |   26 ++++++++++++++++++--------
 2 files changed, 30 insertions(+), 15 deletions(-)

commit 1d68bc784499bab0eaf8b9b03d3b4a6c3c115e9c
Author: sam
Date:   Fri Jan 12 18:01:27 2007 +0000

      * Refactored some shit around.

 src/zzuf.c |  146 ++++++++++++++++++++++++++++++++++--------------------------
 1 files changed, 83 insertions(+), 63 deletions(-)

commit e95d9f9895dc432f67e543a3f3af46f800a40b96
Author: sam
Date:   Fri Jan 12 16:20:14 2007 +0000

      * Minor documentation fixes.

 doc/zzuf.1 |    8 ++++----
 src/zzuf.c |    4 ++--
 2 files changed, 6 insertions(+), 6 deletions(-)

commit fb41a81ee65d8e5e3f1ad3a9484a9ee35511143c
Author: sam
Date:   Fri Jan 12 15:47:48 2007 +0000

      * Change timing functions to gettimeofday() instead of time() for more
        precision.

 Makefile.am     |    1 +
 src/Makefile.am |    4 +++-
 src/timer.c     |   38 ++++++++++++++++++++++++++++++++++++++
 src/timer.h     |   20 ++++++++++++++++++++
 src/zzuf.c      |   21 ++++++++++-----------
 5 files changed, 72 insertions(+), 12 deletions(-)

commit 23e202c336b6e02094aa3dd584555f629eec3cfa
Author: sam
Date:   Fri Jan 12 14:19:55 2007 +0000

      * Lowercase zzuf everywhere.

 AUTHORS    |    2 +-
 README     |    6 +++---
 doc/zzuf.1 |   16 ++++++++--------
 3 files changed, 12 insertions(+), 12 deletions(-)

commit 2b50cdc843cc385de13c2cffd525c98228355299
Author: sam
Date:   Fri Jan 12 10:09:22 2007 +0000

      * Better line-buffered stdin reads.

 src/zzuf.c |   15 +++++++++++----
 1 files changed, 11 insertions(+), 4 deletions(-)

commit bd1e4b6781341bb61a82f7daeef3085cedf9903d
Author: sam
Date:   Thu Jan 11 23:36:28 2007 +0000

      * Version 0.4.
      * Updated NEWS and ChangeLog.

 ChangeLog    |  261 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NEWS         |    6 ++
 configure.ac |    4 +-
 3 files changed, 269 insertions(+), 2 deletions(-)

commit a9f04fa129c0fd2aae92d8e61b33e734befe61c7
Author: sam
Date:   Thu Jan 11 23:30:29 2007 +0000

      * Got rid of malloc() for each file opened. Now we only start calling
        malloc() after the 32th file descriptor.

 src/fd.c |   41 ++++++++++++++++++++++++++++++-----------
 1 files changed, 30 insertions(+), 11 deletions(-)

commit 6b7641f3f1976376ec01c3b69ed4000045ee73ab
Author: sam
Date:   Thu Jan 11 22:43:45 2007 +0000

      * Reduce number of malloc() calls within libzzuf.

 src/fd.c      |   19 +++++++++++--------
 src/libzzuf.h |    2 +-
 2 files changed, 12 insertions(+), 9 deletions(-)

commit f65031ae6191d4092e3a47167d8d08b5b85bf7ea
Author: sam
Date:   Thu Jan 11 22:11:56 2007 +0000

      * Remove two useless malloc() calls.

 src/fd.c |   26 ++++++++------------------
 1 files changed, 8 insertions(+), 18 deletions(-)

commit 98790fa3337e016ce4b3876a9a0b89cc8afed52a
Author: sam
Date:   Thu Jan 11 22:11:28 2007 +0000

      * Don't stop if the process was killed by us.

 src/zzuf.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit c332680bd51b8a687e89c704597528f4d4a8c4d1
Author: sam
Date:   Thu Jan 11 10:21:11 2007 +0000

      * Better realloc dummy implementation.

 src/load-mem.c |   34 +++++++++++++++++++---------------
 1 files changed, 19 insertions(+), 15 deletions(-)

commit 7e56dd05cb59e50fc345bf9d5bde11371d3bb955
Author: sam
Date:   Thu Jan 11 00:39:59 2007 +0000

      * Minor code factorisation into LOADSYM().

 src/libzzuf.c     |   10 +++++-----
 src/load-fd.c     |   18 ++++++------------
 src/load-mem.c    |   28 ++++++++++------------------
 src/load-signal.c |    6 ++----
 src/load-stream.c |   37 ++++++++++++-------------------------
 src/load.h        |    3 ++-
 6 files changed, 37 insertions(+), 65 deletions(-)

commit 55f7d73be390948f51e0af94ef7d7b0adc30746d
Author: sam
Date:   Thu Jan 11 00:27:47 2007 +0000

      * Typo in the manpage.

 doc/zzuf.1 |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 001af9af7dd65aa864e8757ad9d53c5c65fb09d8
Author: sam
Date:   Wed Jan 10 18:11:13 2007 +0000

      * Allow several calls to malloc()/calloc() in the library preloading stage.

 src/load-mem.c |   27 ++++++++++++++++++---------
 1 files changed, 18 insertions(+), 9 deletions(-)

commit 070fc46970445248a950de1046388c3822d9811c
Author: sam
Date:   Wed Jan 10 17:31:58 2007 +0000

      * Removed brk/sbrk, they're so outdated and useless.

 doc/zzuf.1     |    3 +--
 src/load-mem.c |   31 ++-----------------------------
 2 files changed, 3 insertions(+), 31 deletions(-)

commit c1876592decd9758791db414bf004a8e90affb43
Author: sam
Date:   Wed Jan 10 17:25:09 2007 +0000

      * Oops, fixed an old OS X build failure.

 src/load-mem.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 715e645c8b73e3faf1a032867b875dc86145b62c
Author: sam
Date:   Wed Jan 10 17:23:23 2007 +0000

      * Check for memalign and posix_memalign.

 configure.ac   |    2 +-
 src/load-mem.c |   16 +++++++++++++++-
 2 files changed, 16 insertions(+), 2 deletions(-)

commit 4ee193c73e09ebdf8726d77edd8afd7d24ab2433
Author: sam
Date:   Wed Jan 10 17:19:48 2007 +0000

      * Check for malloc.h.

 configure.ac   |    2 +-
 src/load-mem.c |    4 +++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 078a7afa1bc7654ebaf3872863478f32955e2ba8
Author: sam
Date:   Wed Jan 10 17:17:26 2007 +0000

      * Implemented memory limits. Probably breaks on other arches because of all
        the new functions.

 doc/zzuf.1     |   32 +++++++++---
 src/libzzuf.c  |    5 ++
 src/libzzuf.h  |    1 +
 src/load-mem.c |  148 ++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 src/zzuf.c     |   30 +++++++++--
 5 files changed, 197 insertions(+), 19 deletions(-)

commit 5ec99810046ad4cdf899d5127daca0864633c175
Author: sam
Date:   Wed Jan 10 15:22:09 2007 +0000

      * Changed -M to -m (for --md5).

 doc/zzuf.1        |    2 +-
 src/zzuf.c        |   14 +++++++-------
 test/testsuite.sh |    2 +-
 3 files changed, 9 insertions(+), 9 deletions(-)

commit 906f0afaeef813a2d5161cfa9cceb09752fe4082
Author: sam
Date:   Wed Jan 10 14:57:22 2007 +0000

      * Split load-fd.c into load-fd.c and load-mem.c (mmap, etc.).

 src/Makefile.am |    2 +-
 src/libzzuf.c   |    1 +
 src/load-fd.c   |  148 +-----------------------------------------
 src/load-mem.c  |  194 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/load.h      |    1 +
 5 files changed, 198 insertions(+), 148 deletions(-)

commit 90576cb680f2ae583f5dd56c8f8cc19b5ca33164
Author: sam
Date:   Tue Jan 9 16:39:07 2007 +0000

      * Fixed double mmap debug message.

 src/load-fd.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 11dc8b6c6d8fda3819c5bc38d547bbf78f9d91ad
Author: sam
Date:   Tue Jan 9 16:16:00 2007 +0000

      * Add verbosity to read() and mmap() so that we roughly know where we
        are reading.

 src/load-fd.c |   60 +++++++++++++++++++++++++++++++++++++++++---------------
 1 files changed, 44 insertions(+), 16 deletions(-)

commit d0875b55aab3a2b6b5ec530f36ef6d4982a59ebd
Author: sam
Date:   Tue Jan 9 16:14:31 2007 +0000

      * Change debug's %c so that it automatically escapes binary characters.

 src/debug.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 53e72a22152c296c1ec2062c53eda030b29dd3ea
Author: sam
Date:   Tue Jan 9 15:40:08 2007 +0000

      * mmap() maps the file descriptor at offset 0.

 src/load-fd.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 9bdff8ac519ee512cd1fb8b95642e50311989c71
Author: sam
Date:   Tue Jan 9 11:22:09 2007 +0000

      * Don’t report exit status by default.
      * Add -x/--check-exit to get back to the previous behaviour.

 doc/zzuf.1 |    7 ++++++-
 src/zzuf.c |   21 ++++++++++++++-------
 2 files changed, 20 insertions(+), 8 deletions(-)

commit fcd22b6474faeb7958a05a300115a6b87f1cf69e
Author: sam
Date:   Tue Jan 9 10:07:35 2007 +0000

      * Bah, reverted that. We'll use -O for --offset.

 doc/zzuf.1 |   16 ++++++++--------
 src/zzuf.c |   20 ++++++++++----------
 2 files changed, 18 insertions(+), 18 deletions(-)

commit f68cbe55dbf24f2606121ac83bae44d4378bd05f
Author: sam
Date:   Tue Jan 9 10:05:47 2007 +0000

      * Rename -B/--max-bytes to -O/--max-output so that we can implement -A/-B.

 doc/zzuf.1 |   16 ++++++++--------
 src/zzuf.c |   20 ++++++++++----------
 2 files changed, 18 insertions(+), 18 deletions(-)

commit 3b9f2db74356e526ec742f18a49641607010aa40
Author: sam
Date:   Tue Jan 9 10:02:57 2007 +0000

      * Implement map_fd for OS X.

 configure.ac  |    4 ++--
 doc/zzuf.1    |    3 +++
 src/load-fd.c |   41 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 46 insertions(+), 2 deletions(-)

commit fe028ec8789593c59a2fe1d37a5f3dacdeceb04f
Author: sam
Date:   Mon Jan 8 21:51:06 2007 +0000

      * Fixed testsuite for anal shells.

 test/testsuite.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4f9c0e7244ec358ef878e91d1159b9e898a02449
Author: sam
Date:   Mon Jan 8 21:49:57 2007 +0000

      * Tru64 loader support (_RLD_LIST).

 src/zzuf.c |   20 +++++++++++++++-----
 1 files changed, 15 insertions(+), 5 deletions(-)

commit a6695e0ad2353b9fa586cdc3255e416204aedf2e
Author: sam
Date:   Mon Jan 8 21:48:39 2007 +0000

      * Fix the socklen_t type detection on Linux.

 configure.ac |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 3769d13e84dc220ca7288ce8109bb23515a06b15
Author: sam
Date:   Mon Jan 8 21:05:05 2007 +0000

      * Define sig_t to void (*) (int) if it does not exist.

 src/load-signal.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 9329ed73f8994cd61e43db61933025b291ae8af1
Author: sam
Date:   Mon Jan 8 21:03:32 2007 +0000

      * Define socklen_t to int if it does not exist.

 configure.ac  |    2 ++
 src/load-fd.c |   10 ++++++++--
 2 files changed, 10 insertions(+), 2 deletions(-)

commit f5d3a826750368ad51a4055aebea1a8856f25e29
Author: sam
Date:   Mon Jan 8 18:15:49 2007 +0000

      * Test suite now uses the new MD5 feature.

 test/testsuite.sh |   35 ++++++++++++-----------------------
 1 files changed, 12 insertions(+), 23 deletions(-)

commit ec6d5434ced3886050b63accc9e6d7d0b0c613db
Author: sam
Date:   Mon Jan 8 17:54:16 2007 +0000

      * Changed --md5 to only compute the standard output.

 doc/zzuf.1 |    4 ++--
 src/zzuf.c |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 214cddf57e3703e8b2cbc37f2c47ef84e308c3f0
Author: sam
Date:   Mon Jan 8 17:50:34 2007 +0000

      * Implemented -M/--md5 flag.

 doc/zzuf.1      |   12 ++-
 src/Makefile.am |    2 +-
 src/md5.c       |  237 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/md5.h       |   24 ++++++
 src/zzuf.c      |   97 +++++++++++++++++------
 5 files changed, 341 insertions(+), 31 deletions(-)

commit 42429f94660a75d563f696f024eb7448d2632064
Author: sam
Date:   Sun Jan 7 21:29:37 2007 +0000

      * Version 0.3.
      * Updated NEWS and ChangeLog.

 ChangeLog    |  370 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NEWS         |    7 +
 configure.ac |    4 +-
 3 files changed, 379 insertions(+), 2 deletions(-)

commit 0faa467a258d37ab98e4a4080d5e56c3e9c4908c
Author: sam
Date:   Sun Jan 7 21:14:26 2007 +0000

      * Factor regex stuff into fd.c, so that <regex.h> isn’t needed otherwhere.

 src/fd.c          |   27 +++++++++++++++++++++++++--
 src/fd.h          |    5 ++---
 src/fuzz.c        |    1 -
 src/libzzuf.c     |   11 ++---------
 src/load-fd.c     |    1 -
 src/load-signal.c |    1 -
 src/load-stream.c |    1 -
 7 files changed, 29 insertions(+), 18 deletions(-)

commit 1cd450310fc616192e76a7bd179ede3be1ca0338
Author: sam
Date:   Sun Jan 7 21:13:31 2007 +0000

      * Use __srefill() on OS X, too. It now works properly.

 doc/zzuf.1        |   10 +++++-----
 src/load-stream.c |    4 ----
 2 files changed, 5 insertions(+), 9 deletions(-)

commit a1b86adf916e4a7341c958cd66fe62eaf62a3d57
Author: sam
Date:   Sun Jan 7 20:50:49 2007 +0000

      * Implemented freopen().

 doc/zzuf.1        |    5 +++--
 src/load-stream.c |   33 +++++++++++++++++++++++++++++++++
 2 files changed, 36 insertions(+), 2 deletions(-)

commit 372d7e494656c57e735fe0d260a33642f02e4eff
Author: sam
Date:   Sun Jan 7 20:24:03 2007 +0000

      * Protect __srefill_orig() calls.

 src/load-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8541bae1e254afd9d66b82d1a05690177dd157bf
Author: sam
Date:   Sun Jan 7 19:12:35 2007 +0000

      * Updated bootstrap script.

 bootstrap |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 5def4f865c855fde1c859bc976921782870071be
Author: sam
Date:   Sun Jan 7 18:45:00 2007 +0000

      * Documented stdin behaviour.

 doc/zzuf.1        |    9 +++++++--
 src/zzuf.c        |    2 +-
 test/testsuite.sh |    3 ++-
 3 files changed, 10 insertions(+), 4 deletions(-)

commit f7d235fa90ae47f77bc2ecdbcf57f9ee1206baaf
Author: sam
Date:   Sun Jan 7 18:36:19 2007 +0000

      * Factored sources in the makefile.

 src/Makefile.am |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit cd2b38ca23091b4988fb5d72f0eae0c5ddf1d584
Author: sam
Date:   Sun Jan 7 18:34:50 2007 +0000

      * Merged chars.c and fuzz.c.

 src/Makefile.am |    4 +-
 src/chars.c     |   96 ----------------------------------------------
 src/chars.h     |   20 ----------
 src/fuzz.c      |  113 +++++++++++++++++++++++++++++++++++++++++++++++--------
 src/fuzz.h      |    3 +
 src/libzzuf.c   |    9 +---
 src/libzzuf.h   |    4 --
 src/zzuf.c      |    9 +---
 8 files changed, 106 insertions(+), 152 deletions(-)

commit 3f1e7f93c0c6100c85ef2542f8e38144f1937f17
Author: sam
Date:   Sun Jan 7 18:18:50 2007 +0000

      * If no argument is given, just fuzz standard input.

 src/Makefile.am   |    6 +-
 src/chars.c       |   96 +++++++++++++++++++++
 src/chars.h       |   20 +++++
 src/fd.c          |  180 ++++++++++++++++++++++++++++++++++++++++
 src/fd.h          |   33 ++++++++
 src/fuzz.c        |   19 ++++
 src/fuzz.h        |    2 +
 src/libzzuf.c     |  238 ++---------------------------------------------------
 src/libzzuf.h     |   12 ---
 src/load-fd.c     |    2 +
 src/load-signal.c |    1 +
 src/load-stream.c |    2 +
 src/zzuf.c        |   61 ++++++++++++--
 13 files changed, 418 insertions(+), 254 deletions(-)

commit f03ddbd8356e0abb947a32d17c91f532d535a47e
Author: sam
Date:   Sun Jan 7 17:12:53 2007 +0000

      * Don't call cat or dd in the testsuite if they're statically linked.

 test/testsuite.sh |   26 ++++++++++++++++----------
 1 files changed, 16 insertions(+), 10 deletions(-)

commit ae749302ce43777106bfab96281dde67ea04115f
Author: sam
Date:   Sun Jan 7 16:31:33 2007 +0000

      * Fix a compilation warning.

 src/load-stream.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit ad39f0638d3c500171db5b0f7360f9b908653085
Author: sam
Date:   Sun Jan 7 16:29:25 2007 +0000

      * Added note about 64-bit offsets in manpage.

 doc/zzuf.1 |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit bb9d97f50940ccd07348cf9d52fc03438948b386
Author: sam
Date:   Sun Jan 7 16:27:59 2007 +0000

      * Fixed __srefill()/lseek() conflict issue.

 src/load-stream.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 8f8b7e2a0adb774939fd6c16632443690dc38b05
Author: sam
Date:   Sun Jan 7 16:09:13 2007 +0000

      * Only use __srefill on OpenBSD and FreeBSD.

 src/load-stream.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit eaf5c617b5b15112c965881c852b0e299edca175
Author: sam
Date:   Sun Jan 7 15:55:24 2007 +0000

      * Updated manpage, fixed - to \- here and there.

 doc/zzuf.1 |   42 +++++++++++++++++++++---------------------
 1 files changed, 21 insertions(+), 21 deletions(-)

commit d1b0512986c0b304a9791af91a6bf8052ea86670
Author: sam
Date:   Sun Jan 7 15:55:00 2007 +0000

      * Implemented BSD stdio by overriding __srefill().

 src/load-stream.c |   82 ++++++++++++++++++++++++++++++++++------------------
 1 files changed, 53 insertions(+), 29 deletions(-)

commit ab9d811fd9c2e8ded61526a9743c585d4c75be01
Author: sam
Date:   Sun Jan 7 14:22:34 2007 +0000

      * Fuzz in __srefill even if _zz_disabled is on.

 src/load-stream.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit d367550fc99b1448984977bc43e5674ebb50c109
Author: sam
Date:   Sun Jan 7 14:16:46 2007 +0000

      * Oops, got it wrong.

 src/load-stream.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ace4bfa13ab850ebcd9859b308af03b951108628
Author: sam
Date:   Sun Jan 7 14:16:06 2007 +0000

      * Fix compilation warnings on BSD libc’s and a bug on FreeBSD.

 src/load-stream.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 10f17f48197f8d206c05765688910da985829bcc
Author: sam
Date:   Sun Jan 7 14:14:19 2007 +0000

      * Implemented __refill(). Untested yet.

 src/load-stream.c |   61 +++++++++++++++++++++++++++++++++++++++++++---------
 1 files changed, 50 insertions(+), 11 deletions(-)

commit ae18bb2f87ea1878cb22d35b77606cfe10a858f7
Author: sam
Date:   Sun Jan 7 14:13:29 2007 +0000

      * Made the testsuite shorter.

 test/testsuite.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5dd97f8469452ba7971303c651869ff9cc9f932d
Author: sam
Date:   Sun Jan 7 13:20:04 2007 +0000

      * Protected the _IO_getc_orig declaration.

 src/load-stream.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit f93d1dd3146996eb0915d79a6661481795d4c9b8
Author: sam
Date:   Sun Jan 7 13:18:36 2007 +0000

      * Oops, compilation fix.

 src/load-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit f2e805e0f0e4bce2256a3f1d78b48a9e4abfff6f
Author: sam
Date:   Sun Jan 7 13:16:43 2007 +0000

      * Added __srefill() skeleton, for BSD libc.

 configure.ac      |    2 +-
 src/load-stream.c |   26 +++++++++++++++++++++++++-
 2 files changed, 26 insertions(+), 2 deletions(-)

commit 7ee4debd47ae53fa62676075fe5bbc120e5862fb
Author: sam
Date:   Sun Jan 7 12:39:30 2007 +0000

      * Added a note about statically linked binaries and one about getc().

 doc/zzuf.1 |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 7fe0ef7de94bb9defd6860ccfb01f0b34d1c957a
Author: sam
Date:   Sun Jan 7 12:06:07 2007 +0000

      * Don’t run the testsuite if /bin/cat is statically linked.

 test/testsuite.sh |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit eaf692461a6c6fd9d81b64ddc9ffc0b7d56f806e
Author: sam
Date:   Sun Jan 7 10:34:45 2007 +0000

      * Always define getc(), but undefine the getc macro beforehands just in case.
      * Implemented _IO_getc().

 configure.ac      |    2 +-
 doc/zzuf.1        |    8 ++++----
 src/fuzz.c        |    4 ++--
 src/load-stream.c |   38 ++++++++++++++++++++++++--------------
 test/testsuite.sh |   10 ++++++----
 5 files changed, 37 insertions(+), 25 deletions(-)

commit a4797afc4529301c72dac2a56bd1064b1234ee24
Author: sam
Date:   Sun Jan 7 09:34:42 2007 +0000

      * Implemented fseeko().

 configure.ac      |    2 +-
 doc/zzuf.1        |    4 +-
 src/load-stream.c |   74 +++++++++++++++++++++++++++++++++--------------------
 3 files changed, 49 insertions(+), 31 deletions(-)

commit 190511294a27f63c1dd40374bd6c06ef2e3dc8f6
Author: sam
Date:   Sat Jan 6 22:17:09 2007 +0000

      * Fix a bug in the fgetln() implementation. The newline was not properly
        accounted for in the returned length.

 src/load-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit cf5ca3a3c1be1e65c3064affd371d207f3a27e7a
Author: sam
Date:   Sat Jan 6 21:54:02 2007 +0000

      * BSD's md5 does not have a --help option. Trying /dev/null instead.

 test/testsuite.sh |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7beda020ce6ff05e10514d7a02c9a248bf7b334b
Author: sam
Date:   Sat Jan 6 21:38:33 2007 +0000

      * Cleaned up code.

 src/load-stream.c |   27 +++++++++++++--------------
 1 files changed, 13 insertions(+), 14 deletions(-)

commit f693e7287dcebbdf66c79eb098a74f00d3b9b665
Author: sam
Date:   Sat Jan 6 21:37:42 2007 +0000

      * Only link with -ldl when available.
      * Removed PKG_* stuff from configure.ac.
      * Add more compilation warnings.

 configure.ac    |   17 ++++-------------
 src/Makefile.am |    2 +-
 2 files changed, 5 insertions(+), 14 deletions(-)

commit 9e0e4cb76770fd17c88f5e02bfabc75efa501a01
Author: sam
Date:   Sat Jan 6 21:25:56 2007 +0000

      * Got testsuite to work on FreeBSD.

 test/testsuite.sh |   31 ++++++++++++++++++++-----------
 1 files changed, 20 insertions(+), 11 deletions(-)

commit 883aa413bf1a71e27e13969100268b48c9e06bde
Author: sam
Date:   Sat Jan 6 20:59:28 2007 +0000

      * Fix for BSD machines: getc() may be defined as a macro.

 src/load-stream.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 2b202a471ac870b87151e7f3455e54b83af57d37
Author: sam
Date:   Sat Jan 6 20:24:54 2007 +0000

      * Fixed the head call in the testsuite so that it works on OS X.

 test/testsuite.sh |   17 +++++++++--------
 1 files changed, 9 insertions(+), 8 deletions(-)

commit b372bdaafadf5726dec46dd6ef266c7ec3ce5c89
Author: sam
Date:   Sat Jan 6 20:20:15 2007 +0000

      * Added head and tail to the testsuite.

 test/testsuite.sh |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 24946cc39474f4b2bc53be5b2ed6fc590654fbba
Author: sam
Date:   Sat Jan 6 20:08:31 2007 +0000

      * Fixed implicit declaration.

 src/load-fd.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 1a2d2faaa70ce6bf2edcd6f9036e0bef0b04a8bd
Author: sam
Date:   Sat Jan 6 20:02:01 2007 +0000

      * Updated documentation wrt. mmap().

 doc/zzuf.1 |   15 +++++++--------
 1 files changed, 7 insertions(+), 8 deletions(-)

commit fc2c562801d977e225142225dc59abbece3fe7c5
Author: sam
Date:   Sat Jan 6 20:01:51 2007 +0000

      * Missing autoconf check for mmap64().

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 943a0278b5a56bd4a48ae945c73853f1412c169b
Author: sam
Date:   Sat Jan 6 20:01:25 2007 +0000

      * Implemented the mmap() family.

 src/load-fd.c |   86 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 85 insertions(+), 1 deletions(-)

commit 76ce44308ce68ace44e87e175a76295313e32292
Author: sam
Date:   Sat Jan 6 20:01:15 2007 +0000

      * Implemented rewind().

 src/load-stream.c |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit 00b1f1a1ebbcdda7da9bb79e563441c729c2d02a
Author: sam
Date:   Sat Jan 6 15:54:14 2007 +0000

      * Fix fread() issue with standard input reading.

 src/load-stream.c |    6 +++++-
 test/testsuite.sh |   11 +++++++----
 2 files changed, 12 insertions(+), 5 deletions(-)

commit 65d07c22d424d3d77780d37bf9c9714e2ec52dc6
Author: sam
Date:   Sat Jan 6 14:03:07 2007 +0000

      * Added a note about mmap() not being available.

 doc/zzuf.1 |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit c3f925484173f40c9710c5f3111f326024f2a9d0
Author: sam
Date:   Sat Jan 6 14:02:51 2007 +0000

      * Fix build with older versions of gcc.

 src/debug.c |   19 +++++++++++--------
 src/zzuf.c  |    1 +
 2 files changed, 12 insertions(+), 8 deletions(-)

commit 280ea46a38cd8d11b3edde9ddddb8291fca76967
Author: sam
Date:   Sat Jan 6 10:51:44 2007 +0000

      * Documentation tuning.

 doc/zzuf.1 |    4 ++--
 src/zzuf.c |   13 +++++++++----
 2 files changed, 11 insertions(+), 6 deletions(-)

commit cc0823a88153ad61662bf3fa0183f87881e32ad3
Author: sam
Date:   Sat Jan 6 00:40:51 2007 +0000

      * Version 0.2 is ready.

 ChangeLog    |  910 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NEWS         |    7 +
 TODO         |    5 -
 configure.ac |    4 +-
 src/zzuf.c   |    6 +-
 5 files changed, 923 insertions(+), 9 deletions(-)

commit 951a1b7ad55de644bf4addabcbf3c4b393163cec
Author: sam
Date:   Sat Jan 6 00:26:39 2007 +0000

      * Another note in the manpage.

 doc/zzuf.1 |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit b9e12a232b078844e63fd3949aad923415f83b38
Author: sam
Date:   Sat Jan 6 00:10:46 2007 +0000

      * Cosmetic fixes.

 src/zzuf.c |   78 ++++++++++++++++++++++++++++++------------------------------
 1 files changed, 39 insertions(+), 39 deletions(-)

commit a906f8bc784702385bc6f559729cbb099701b8b8
Author: sam
Date:   Sat Jan 6 00:08:16 2007 +0000

      * Implemented --max-crashes.
      * Renamed --forks to --max-forks.
      * Changed debug messages format.

 doc/zzuf.1 |   21 ++++++++++---
 src/zzuf.c |   92 ++++++++++++++++++++++++++++++++++--------------------------
 2 files changed, 68 insertions(+), 45 deletions(-)

commit 7af80dac2e51b5eeb8d3c0e8c35306bf51eaf7e7
Author: sam
Date:   Fri Jan 5 23:15:29 2007 +0000

      * Oops, forgot to fix --help output.

 src/zzuf.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8b38085f751cc71819075d636f2e4f086c268f1d
Author: sam
Date:   Fri Jan 5 23:14:37 2007 +0000

      * Rename --fork to --max-forks.

 doc/zzuf.1 |    2 +-
 src/zzuf.c |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 721f5d9d2cbeb6b5ff7872d5deaf0e694bcaaaae
Author: sam
Date:   Fri Jan 5 21:36:13 2007 +0000

      * Specified signal handling stuff in the manpage.

 doc/zzuf.1 |   14 ++++++++------
 1 files changed, 8 insertions(+), 6 deletions(-)

commit 6a12dc31a020c268b7bde1553fedb00ad328bcc2
Author: sam
Date:   Fri Jan 5 21:33:28 2007 +0000

      * Split the bugs manpage section into bugs and restrictions.
      * Listed diverted functions.

 doc/zzuf.1 |   56 +++++++++++++++++++++++++++++++++++++-------------------
 1 files changed, 37 insertions(+), 19 deletions(-)

commit ba16f0dc550b316c054ff98bd22c904c9abc9748
Author: sam
Date:   Fri Jan 5 17:34:10 2007 +0000

      * Fix an uncontrolled corruption bug in fgetln().

 src/load-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d3ac2577c43c733938af5fb1dd5d463b3676af00
Author: sam
Date:   Fri Jan 5 16:03:04 2007 +0000

      * Fix fgetln(). The testsuite *almost* passes.

 src/load-stream.c |   22 ++++++++++++----------
 1 files changed, 12 insertions(+), 10 deletions(-)

commit fdaa9cfef83dbd783b6b5476862eb9bf7a5bef40
Author: sam
Date:   Fri Jan 5 14:36:39 2007 +0000

      * Implemented BSD fgetln(). Untested yet.

 configure.ac      |    2 +-
 src/libzzuf.c     |    7 +++++++
 src/libzzuf.h     |    3 +++
 src/load-stream.c |   50 ++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 61 insertions(+), 1 deletions(-)

commit 5340742077256c95afa8d90a741098b895d8569a
Author: sam
Date:   Fri Jan 5 11:01:49 2007 +0000

      * Put back grep and sed into the testsuite, now that we can protect newlines
        from being fuzzed away.

 test/testsuite.sh |   52 ++++++++++++++++++++++++++++++----------------------
 1 files changed, 30 insertions(+), 22 deletions(-)

commit 708ee4d029e82d7270312f4df67a822d8d9b51d4
Author: sam
Date:   Fri Jan 5 10:49:12 2007 +0000

      * Minor layout tuning.

 doc/zzuf.1 |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8b24c6b5e0296e990d4c348b822f6ede88fa9511
Author: sam
Date:   Fri Jan 5 10:28:07 2007 +0000

      * Allow octal escape values for -P and -R.
      * Updated manpage accordingly and added a few minor things in it.

 doc/zzuf.1    |   44 +++++++++++++++++++++++---------------------
 src/libzzuf.c |   10 ++++++++--
 2 files changed, 31 insertions(+), 23 deletions(-)

commit dd964972484febd3cd940740166deca44f2a6b21
Author: sam
Date:   Fri Jan 5 08:01:06 2007 +0000

      * Change -N to -n for --network.

 doc/zzuf.1 |    4 ++--
 src/zzuf.c |   14 +++++++-------
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 5627236611eca3e22f6942b747dd204aec6ee581
Author: sam
Date:   Fri Jan 5 07:57:41 2007 +0000

      * Clarified reproducibility claim.

 doc/zzuf.1 |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit b5df66bf0dfa156f911331634b46f2f812562ada
Author: sam
Date:   Fri Jan 5 07:52:30 2007 +0000

      * Network support.

 doc/zzuf.1    |   13 +++++++------
 src/libzzuf.c |    5 +++++
 src/libzzuf.h |    1 +
 src/load-fd.c |   44 ++++++++++++++++++++++++++++++++++++++++++++
 src/zzuf.c    |   18 ++++++++++++------
 5 files changed, 69 insertions(+), 12 deletions(-)

commit f99b21a0d8b8d7024f8a3aa3ef7d470720c79ebb
Author: sam
Date:   Fri Jan 5 00:24:43 2007 +0000

      * Manpage layout improvements.

 doc/zzuf.1 |   99 ++++++++++++++++++++++-------------------------------------
 1 files changed, 37 insertions(+), 62 deletions(-)

commit 8ab98ef880431ac281a605a4f3f4d94272295996
Author: sam
Date:   Thu Jan 4 13:33:33 2007 +0000

      * Minor manpage improvement.

 doc/zzuf.1 |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 9072f7022a919d73189a03331cfc5987bc632170
Author: sam
Date:   Thu Jan 4 13:28:35 2007 +0000

      * Improved manpage, especially the statistical effect of using -R.

 doc/zzuf.1 |   90 ++++++++++++++++++++++++++++++++++++++++--------------------
 1 files changed, 60 insertions(+), 30 deletions(-)

commit d02551154b4f350dab88964de580068faf9863bc
Author: sam
Date:   Thu Jan 4 08:59:05 2007 +0000

      * Implemented -R / --refuse.

 doc/zzuf.1    |   20 ++++++++++++++++++++
 src/fuzz.c    |   11 +++++++++--
 src/libzzuf.c |   21 +++++++++++++--------
 src/libzzuf.h |    3 ++-
 src/zzuf.c    |   17 ++++++++++++-----
 5 files changed, 56 insertions(+), 16 deletions(-)

commit f930ad29221b0715dbd0415615fa5ac7de779ea0
Author: sam
Date:   Thu Jan 4 01:09:04 2007 +0000

      * Implement -P / --protect.

 doc/zzuf.1    |   40 ++++++++++++++++++++++++++++++--
 src/fuzz.c    |   11 +++++++-
 src/libzzuf.c |   70 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/libzzuf.h |    3 ++
 src/zzuf.c    |   22 ++++++++++++-----
 5 files changed, 134 insertions(+), 12 deletions(-)

commit faae881c76b5eac291c3d6142aa7a539174172a8
Author: sam
Date:   Wed Jan 3 22:51:36 2007 +0000

      * Added a _zz_disabled flag. This is needed on OS X where we protect the
        fopen_orig() call because it will call our own diverted open() function
        and we don't want it to fiddle with our structures.

 src/libzzuf.c     |    1 +
 src/libzzuf.h     |    1 +
 src/load-fd.c     |    8 ++++----
 src/load-stream.c |   18 +++++++++++++++++-
 4 files changed, 23 insertions(+), 5 deletions(-)

commit b9eed7bf9daa4c0b1008e1cb74d3e5b643107d0a
Author: sam
Date:   Wed Jan 3 22:25:45 2007 +0000

      * Do not fuzz anything if 0 bytes were read.
      * Added a debug message for fuzzing.

 src/fuzz.c        |    4 +++-
 src/load-stream.c |    7 +++++--
 2 files changed, 8 insertions(+), 3 deletions(-)

commit ab943738876fa48f4970871bb81da9e807c3f8e0
Author: sam
Date:   Wed Jan 3 22:12:02 2007 +0000

      * Better debug messages in load-stream.c.

 src/load-stream.c |   30 ++++++++++++++++++------------
 1 files changed, 18 insertions(+), 12 deletions(-)

commit 871f9d27dc093bc19be25fc632f4ec1cd1687a6a
Author: sam
Date:   Wed Jan 3 22:10:57 2007 +0000

      * Implemented %c in our debug() printf implementation.

 src/debug.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit 875b8c5a24833ff8a5ff94f05520ecd7de588d4d
Author: sam
Date:   Wed Jan 3 21:53:03 2007 +0000

      * Use "strings </dev/urandom", not "strings /dev/urandom".

 test/testsuite.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8aad11b56d7e2506091f8e0212a5bf803697a3a5
Author: sam
Date:   Wed Jan 3 21:51:11 2007 +0000

      * Added a stupid PRNG to streamcat and fdcat.
      * Do not use sed in the testsuite, because of OS X.

 test/fdcat.c      |   20 ++++++++++++++------
 test/streamcat.c  |   18 +++++++++++++-----
 test/testsuite.sh |    4 +++-
 3 files changed, 30 insertions(+), 12 deletions(-)

commit 40cd2ff92bfd475f7c63330a6a0196e7784b71bd
Author: sam
Date:   Wed Jan 3 21:20:22 2007 +0000

      * No longer use the OS's PRNG, we use our own (based on a Dr Dobbs article
        from November 1985, page 91).

 src/random.c |   16 +++++++++++-----
 1 files changed, 11 insertions(+), 5 deletions(-)

commit 8440679beb5a497ede45783cf962b288eaec7983
Author: sam
Date:   Wed Jan 3 20:43:47 2007 +0000

      * Split some code into clean functions.

 src/zzuf.c |  281 ++++++++++++++++++++++++++++++++----------------------------
 1 files changed, 150 insertions(+), 131 deletions(-)

commit c262e3b04a65442545fdd07bff7043cfb26405c5
Author: sam
Date:   Wed Jan 3 17:58:11 2007 +0000

      * Make the testsuite reproductible.

 test/testsuite.sh |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 475565b81fbe33886887e21ec29d8132b9a3f784
Author: sam
Date:   Wed Jan 3 17:57:52 2007 +0000

      * Now works on Darwin!

 src/Makefile.am |    2 +-
 src/zzuf.c      |   14 ++++++++------
 2 files changed, 9 insertions(+), 7 deletions(-)

commit 2ff341f08885ca980ecc2954f49b41be10b16f13
Author: sam
Date:   Wed Jan 3 09:09:41 2007 +0000

      * The whole crap now builds on OS X. Now if it only agreed to run, too...

 configure.ac      |    6 ++++++
 src/Makefile.am   |    2 +-
 src/load-fd.c     |   18 +++++++++++++++++-
 src/load-signal.c |   16 +++++++++++-----
 src/load-stream.c |   25 ++++++++++++++++++++++++-
 src/zzuf.c        |   16 +++++++++++-----
 test/fdcat.c      |    2 ++
 7 files changed, 72 insertions(+), 13 deletions(-)

commit 2d48100d1abd051770b22b52db858b6f5c615591
Author: sam
Date:   Wed Jan 3 09:04:01 2007 +0000

      * Minor optimisations to the testsuite.

 test/testsuite.sh |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 25e2e334d951027b678159bda263215254334ada
Author: sam
Date:   Wed Jan 3 01:28:02 2007 +0000

      * Oops, fixed the testsuite again.

 test/testsuite.sh |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit d229f69f87d0a9c4be891b23d9524f94fc084534
Author: sam
Date:   Tue Jan 2 18:26:56 2007 +0000

      * Oops, fixed stdout writing.

 src/zzuf.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cad778250cda8be8c82b8233d690610bbbf9ce81
Author: sam
Date:   Tue Jan 2 17:15:34 2007 +0000

      * Totally reworked webpage.

 doc/zzuf.1 |  370 ++++++++++++++++++++++--------------------------------------
 1 files changed, 134 insertions(+), 236 deletions(-)

commit 0b6c094b887e16809793af3eb94b49baab396e38
Author: sam
Date:   Tue Jan 2 14:51:55 2007 +0000

      * Output process status to stdout, not stderr.

 src/zzuf.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit acdb9fdcec5ed793cb391cbb83cdd3f0aea736bc
Author: sam
Date:   Tue Jan 2 13:26:32 2007 +0000

      * Do not count debug bytes in the --max-bytes count.

 src/zzuf.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 52350c75832e804c346efde298988b5c4d2f2a7a
Author: sam
Date:   Tue Jan 2 10:45:19 2007 +0000

      * Fix typo in manpage.

 doc/zzuf.1 |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8b3d23095aa377dd42f54fdb66f42fc3edd3339e
Author: sam
Date:   Tue Jan 2 01:13:05 2007 +0000

      * Use a separate file descriptor for debugging messages, so that the -q flag
        does not remove debug messages.
      * Slightly improved fd handling code.

 src/debug.c   |    3 +-
 src/libzzuf.h |   13 ++++++---
 src/load-fd.c |    5 +++
 src/zzuf.c    |   76 +++++++++++++++++++++++++++-----------------------------
 4 files changed, 52 insertions(+), 45 deletions(-)

commit a54d904955b15916ddf020be960a7333941e91c8
Author: sam
Date:   Tue Jan 2 00:27:33 2007 +0000

      * Made the debug() function signal-safe by reimplementing the necessary
        subset of fprintf() we needed.

 src/debug.c |   93 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 91 insertions(+), 2 deletions(-)

commit a48b358b768e77666390d24315428bbea8568d95
Author: sam
Date:   Mon Jan 1 21:55:48 2007 +0000

      * Deprecate README tutorial. Everything’s in the manpage now.

 README |   41 ++---------------------------------------
 1 files changed, 2 insertions(+), 39 deletions(-)

commit 5b8dae09456d1c1a739c3eacdcf14d97e71f8bd9
Author: sam
Date:   Mon Jan 1 21:35:54 2007 +0000

      * Implemented signal handling.
      * Updated documentation accordingly and improved a few parts.

 doc/zzuf.1        |   70 +++++++++++++++++++++++++-----
 src/Makefile.am   |    3 +-
 src/libzzuf.c     |   10 +++-
 src/libzzuf.h     |    3 +-
 src/load-signal.c |  125 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/load.h        |    1 +
 src/zzuf.c        |   26 +++++++----
 7 files changed, 213 insertions(+), 25 deletions(-)

commit 0f4ce45838f3f8a6066019fdc933c64081d082bf
Author: sam
Date:   Mon Jan 1 19:49:57 2007 +0000

      * Alphabetise flags in help output and manpage.

 doc/zzuf.1 |  124 ++++++++++++++++++++++++++++++------------------------------
 src/zzuf.c |   40 ++++++++++----------
 2 files changed, 82 insertions(+), 82 deletions(-)

commit 5b072e01aeed09473923df8a7c2273ba5e20521f
Author: sam
Date:   Mon Jan 1 19:14:55 2007 +0000

      * Update documentation.

 README     |   18 +++++++++---------
 doc/zzuf.1 |   18 +++++++++---------
 2 files changed, 18 insertions(+), 18 deletions(-)

commit afe6d97bc7ce8b9734f032b2356033bd008ebc47
Author: sam
Date:   Mon Jan 1 18:56:13 2007 +0000

      * Switch to REG_EXTENDED.
      * Implement -c (--cmdline).
      * Updated documentation accordingly.

 doc/zzuf.1    |   25 +++++++++++++-
 src/libzzuf.c |    4 +-
 src/zzuf.c    |   97 ++++++++++++++++++++++++++++++++++++++++++++++++--------
 3 files changed, 108 insertions(+), 18 deletions(-)

commit c2e64f1d37c050a7c08f96c65fa3cdfdfa0df3f2
Author: sam
Date:   Fri Dec 29 18:13:42 2006 +0000

      * Check regex syntax in zzuf.
      * Fix minor, harmful memory leaks.

 src/zzuf.c |   49 +++++++++++++++++++++++++++++++------------------
 1 files changed, 31 insertions(+), 18 deletions(-)

commit 1891f39b0b59f09519b28372aacd5965799db178
Author: sam
Date:   Fri Dec 29 17:49:11 2006 +0000

      * Factored regex matching stuff.

 src/debug.c       |    1 -
 src/fuzz.c        |    1 -
 src/libzzuf.c     |   35 ++++++++++++++++++++++++++---------
 src/libzzuf.h     |    7 ++-----
 src/load-fd.c     |   29 ++++++++++-------------------
 src/load-stream.c |   32 +++++++++++---------------------
 6 files changed, 49 insertions(+), 56 deletions(-)

commit 0f14107de892b1c622b6c95dfd37179c99a88746
Author: sam
Date:   Fri Dec 29 17:22:11 2006 +0000

      * Added the -i flag (for stdin fuzzing).

 doc/zzuf.1        |    7 ++++++-
 src/libzzuf.c     |    4 ++++
 src/zzuf.c        |   18 ++++++++++++------
 test/testsuite.sh |   25 ++++++++++++++++---------
 4 files changed, 38 insertions(+), 16 deletions(-)

commit 62a0e8821e229dfc5e90b88555cb6232daf1b143
Author: sam
Date:   Fri Dec 29 16:46:06 2006 +0000

      * Change -i/-e to -I/-E.

 README     |    6 +++---
 doc/zzuf.1 |   12 ++++++------
 src/zzuf.c |   22 +++++++++++-----------
 3 files changed, 20 insertions(+), 20 deletions(-)

commit 944b9bdf9fef1ff8a1cfaacf2c89cfb881d87948
Author: sam
Date:   Thu Dec 28 20:32:21 2006 +0000

      * Renamed functions here and there.

 src/fuzz.c        |    4 ++--
 src/libzzuf.c     |   30 ++++++++++++++----------------
 src/libzzuf.h     |   18 +++++++++---------
 src/load-fd.c     |   16 ++++++++--------
 src/load-stream.c |   34 +++++++++++++++++-----------------
 5 files changed, 50 insertions(+), 52 deletions(-)

commit 18f824112152ea395fa29541701a8f4bc7b2823a
Author: sam
Date:   Thu Dec 28 20:22:32 2006 +0000

      * Improved zfd_register() and zfd_* function performances.
      * Changed function names here and there.

 src/debug.c       |    6 +-
 src/debug.h       |    4 +-
 src/fuzz.c        |   14 ++--
 src/fuzz.h        |    2 +-
 src/libzzuf.c     |  171 +++++++++++++++++++++++++++++++++++++----------------
 src/libzzuf.h     |   22 ++++---
 src/load-fd.c     |   32 +++++-----
 src/load-stream.c |   54 ++++++++--------
 src/load.h        |    4 +-
 src/random.c      |    4 +-
 src/random.h      |    4 +-
 11 files changed, 193 insertions(+), 124 deletions(-)

commit cf6685d6b3ac0991b7d4e4af14a6539510371ffd
Author: sam
Date:   Thu Dec 28 17:48:05 2006 +0000

      * Fixed a partial read data loss bug in the fread implementation.
      * Cosmetic fixes.

 src/load-fd.c     |   14 +++-----------
 src/load-stream.c |   33 ++++++++++++++++++++++-----------
 2 files changed, 25 insertions(+), 22 deletions(-)

commit 3c1c5e12fabc9101ff0164d82dccfada6597b28c
Author: sam
Date:   Thu Dec 28 17:47:26 2006 +0000

      * Added cat reimplementations to the testsuite.

 Makefile.am       |    4 +-
 test/Makefile.am  |    5 ++++
 test/fdcat.c      |   66 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 test/streamcat.c  |   67 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 test/testsuite.sh |    4 +++
 5 files changed, 144 insertions(+), 2 deletions(-)

commit d32d5babf16d53d29d0fa8ebca3ef1ccbac9f732
Author: sam
Date:   Thu Dec 28 15:51:43 2006 +0000

      * Shorten function names.

 src/fuzz.c        |    4 ++--
 src/libzzuf.c     |   18 ++++++++++--------
 src/libzzuf.h     |   14 +++++++-------
 src/load-fd.c     |   16 ++++++++--------
 src/load-stream.c |   36 ++++++++++++++++++------------------
 5 files changed, 45 insertions(+), 43 deletions(-)

commit 5863e7b925aa5ac7fdeba863ac8fa195cbf31bed
Author: sam
Date:   Thu Dec 28 15:48:10 2006 +0000

      * Hide struct zzuf behind public functions. No real abstraction yet.

 src/fuzz.c        |   27 +++++++++++++++------------
 src/libzzuf.c     |   48 +++++++++++++++++++++++++++++++++++++++++++++++-
 src/libzzuf.h     |   20 ++++++++++++--------
 src/load-fd.c     |   20 ++++++++------------
 src/load-stream.c |   42 ++++++++++++++++++------------------------
 5 files changed, 100 insertions(+), 57 deletions(-)

commit ffb2b21de1ff8599ab20a09578784cdfc00242fc
Author: sam
Date:   Thu Dec 28 15:44:28 2006 +0000

      * Add a changelog (from version 1.0).

 ChangeLog |   49 +++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 49 insertions(+), 0 deletions(-)

commit 4f48479e11e401d96948976cef9f283fe2f3921c
Author: sam
Date:   Thu Dec 28 15:44:13 2006 +0000

      * Do not put version information in the distributed .so.

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5f348bee9696613ee9ee69ee2736dd529f4931f2
Author: sam
Date:   Thu Dec 28 15:43:28 2006 +0000

      * Update documentation.

 README |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit ff246c746cc0093bfdf7c5ed190f14255096e2e7
Author: sam
Date:   Sat Dec 23 19:12:52 2006 +0000

      * Oops, correctly install manpage.

 Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit abe0757d55551c30d8b93f9b525dca8c206f6766
Author: sam
Date:   Sat Dec 23 18:40:28 2006 +0000

      * Typo in Makefile.am.

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d54d8db8c340ce46d6ac2d6d76b8e333ba42f9f6
Author: sam
Date:   Sat Dec 23 18:37:52 2006 +0000

      * Prepare version 0.1.

 AUTHORS      |    2 ++
 NEWS         |   10 ++++++++++
 README       |    1 +
 configure.ac |    4 ++--
 4 files changed, 15 insertions(+), 2 deletions(-)

commit b4c0935ccf7eb7d019581f5917c85c2f1f1e5b34
Author: sam
Date:   Fri Dec 22 23:40:03 2006 +0000

      * Sync’ed README and manpage.

 README |   17 ++++++-----------
 1 files changed, 6 insertions(+), 11 deletions(-)

commit 077054a3cc4e4a064561d648f8f37573c78dfae0
Author: sam
Date:   Fri Dec 22 23:36:04 2006 +0000

      * Slightly updated documentation.

 doc/zzuf.1 |   24 +++++++++++++++++++-----
 src/zzuf.c |   14 +++++++-------
 2 files changed, 26 insertions(+), 12 deletions(-)

commit d1f8b10b4406ecfa68c2be1981de3825ef63eb3b
Author: sam
Date:   Fri Dec 22 17:01:16 2006 +0000

      * Fix stdout/stderr copying. Don't use fprintf for something that can
        have null bytes (lol @ me).

 src/zzuf.c |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit b53d285afd7fdc85097223e19d98a92b03565247
Author: sam
Date:   Fri Dec 22 16:54:55 2006 +0000

      * Fix a cleanup bug in the testsuite.
      * If any of the tests failed, do not erase the test files.

 test/testsuite.sh |   16 ++++++++++------
 1 files changed, 10 insertions(+), 6 deletions(-)

commit e1adfc44fd1f9f1f903e5b190d3e9a2f092b8743
Author: sam
Date:   Fri Dec 22 16:36:47 2006 +0000

      * Slightly modified --help message.

 src/zzuf.c |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit d98b13bf9b3a3c123f09c76d37122139ab367038
Author: sam
Date:   Fri Dec 22 16:36:30 2006 +0000

      * Wrote a manpage. Phew.

 Makefile.am     |    2 +-
 configure.ac    |    1 +
 doc/Makefile.am |    6 ++
 doc/zzuf.1      |  206 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 214 insertions(+), 1 deletions(-)

commit 7a64c123daa17f5aeaf4b8cefaf0fc14ea3cfb69
Author: sam
Date:   Fri Dec 22 15:06:21 2006 +0000

      * Implement --max-bytes and --max-time.

 src/zzuf.c |  161 ++++++++++++++++++++++++++++++++++++++++++++----------------
 1 files changed, 118 insertions(+), 43 deletions(-)

commit 5a856cd864e8da9ec398266fd2da62c1c34a4148
Author: sam
Date:   Fri Dec 22 13:53:58 2006 +0000

      * Implemented parallelisation.
      * Implemented “quiet” mode.
      * Handle stdin and stderr in their own pipes.

 src/zzuf.c |  284 +++++++++++++++++++++++++++++++++++++++++++-----------------
 1 files changed, 206 insertions(+), 78 deletions(-)

commit 4d714909cd2fd4c476adb37ea18fd89cd88ef711
Author: sam
Date:   Fri Dec 22 13:18:13 2006 +0000

      * Don’t rely on libzzuf.h in debug.c, so that it can be used in zzuf, too.

 src/debug.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 0525ddd7c02676049dab2cadf357310a155acee7
Author: sam
Date:   Thu Dec 21 19:56:22 2006 +0000

      * Fork to launch the child and read its stdout/stderr.

 src/zzuf.c |  111 +++++++++++++++++++++++++++++++++++++++++++++++++----------
 1 files changed, 92 insertions(+), 19 deletions(-)

commit 343875108d71916e2ce7b865767129d64780e1b6
Author: sam
Date:   Mon Dec 18 13:23:56 2006 +0000

      * Improved help.

 src/zzuf.c |   37 ++++++++++++++++++++++++++++++-------
 1 files changed, 30 insertions(+), 7 deletions(-)

commit f0e3700a62d7af44414dea3f82d8dbc6a3b0739b
Author: sam
Date:   Mon Dec 18 12:58:47 2006 +0000

      * Improved TODO list.

 TODO |   24 ++++++++++++++----------
 1 files changed, 14 insertions(+), 10 deletions(-)

commit b05f2326f7ba1383c541a8c4bf7d6eb76c934ed0
Author: sam
Date:   Mon Dec 18 12:48:49 2006 +0000

      * More testsuite improvements.

 test/testsuite.sh |   53 ++++++++++++++++++++++++++++++++++++++++-------------
 1 files changed, 40 insertions(+), 13 deletions(-)

commit cf7c6a6353b7b918a4208b956ea48fa35f90bcef
Author: sam
Date:   Mon Dec 18 11:07:42 2006 +0000

      * Better tests and error reporting in the testsuite.

 test/testsuite.sh |   44 ++++++++++++++++++++++++++++++++++++--------
 1 files changed, 36 insertions(+), 8 deletions(-)

commit f5ef4d4d49a81de0f2d6c9a7a4f411af3cc781d5
Author: sam
Date:   Sun Dec 17 23:58:23 2006 +0000

      * Huge performance improvement by caching the bit array. Yay.

 src/fuzz.c        |   56 ++++++++++++++++++++++++++++++++--------------------
 src/libzzuf.c     |    3 +-
 src/libzzuf.h     |    7 ++++++
 src/load-fd.c     |    3 ++
 src/load-stream.c |    3 ++
 5 files changed, 49 insertions(+), 23 deletions(-)

commit 9a3253a9c8de7a325b1b186cae0ac19c1f14c3cc
Author: sam
Date:   Sun Dec 17 22:14:13 2006 +0000

      * Added getc(), fgetc(), fgets(), ungetc(), getline() and getdelim().
      * sed now works properly.

 src/load-stream.c |  218 +++++++++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 196 insertions(+), 22 deletions(-)

commit d90c8d8d34d7657f15bdd0ca4d0849a80709423b
Author: sam
Date:   Sun Dec 17 22:12:11 2006 +0000

      * Better, more complete testsuite program.

 test/testsuite.sh |   27 ++++++++++++++++++++-------
 1 files changed, 20 insertions(+), 7 deletions(-)

commit 2a44223aaa5b90a48e1f9bb044500574dc69e51e
Author: sam
Date:   Sun Dec 17 17:33:02 2006 +0000

      * Added a testsuite script.

 Makefile.am       |    2 +-
 configure.ac      |    1 +
 test/Makefile.am  |    3 +++
 test/testsuite.sh |   12 ++++++++++++
 4 files changed, 17 insertions(+), 1 deletions(-)

commit e34777b38d84bfbd997d6b72dd23ff57f5f59652
Author: sam
Date:   Sun Dec 17 17:17:31 2006 +0000

      * Split preload.c into load-fd.c and load-stream.c.

 README            |    2 +-
 src/Makefile.am   |    3 +-
 src/libzzuf.c     |    5 +-
 src/load-fd.c     |  189 +++++++++++++++++++++++++++++++
 src/load-stream.c |  165 +++++++++++++++++++++++++++
 src/load.h        |   31 +++++
 src/preload.c     |  322 -----------------------------------------------------
 src/preload.h     |   20 ----
 8 files changed, 391 insertions(+), 346 deletions(-)

commit bdf9b43116c6c01e31f097ce8cfe780e7735e370
Author: sam
Date:   Sat Dec 16 10:37:41 2006 +0000

      * Update README file.

 README |   21 +++++++++++----------
 1 files changed, 11 insertions(+), 10 deletions(-)

commit f0e76579671d435ec92b73d70a31b1a22dba49fa
Author: sam
Date:   Fri Dec 15 20:42:27 2006 +0000

      * Added AUTHORS file.

 AUTHORS     |    1 +
 Makefile.am |    2 +-
 2 files changed, 2 insertions(+), 1 deletions(-)

commit e76e830dc0ed123f7d4872ca5000f983dc2c55c7
Author: sam
Date:   Fri Dec 15 18:49:33 2006 +0000

      * More TODO.

 TODO |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 01648ee6aad054d2e6deaee48e7e18715b35a270
Author: sam
Date:   Fri Dec 15 18:48:24 2006 +0000

      * Rename zzuf_preload to zzuf_preload_libc. You never know.

 TODO          |   11 ++++++-----
 src/libzzuf.c |    7 ++++---
 src/preload.c |    6 +-----
 src/preload.h |    2 +-
 4 files changed, 12 insertions(+), 14 deletions(-)

commit 309d2231c7acfcffe5caf939a92210d8abc84181
Author: sam
Date:   Fri Dec 15 17:48:17 2006 +0000

      * Added a few examples to README.

 README |   46 +++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 43 insertions(+), 3 deletions(-)

commit 9ce2cf73b4b3fa3c28a65851ef32aca83ebd78f1
Author: sam
Date:   Fri Dec 15 17:47:59 2006 +0000

      * Fix ratio so that it talks about bits, not bytes.

 src/fuzz.c    |   10 +++++-----
 src/libzzuf.c |    2 +-
 2 files changed, 6 insertions(+), 6 deletions(-)

commit b7342aa9932677c6d764c9d9171d1b41f6b27d46
Author: sam
Date:   Fri Dec 15 17:44:20 2006 +0000

      * Support --prefix (library location).

 src/Makefile.am |    1 +
 src/zzuf.c      |    3 +--
 2 files changed, 2 insertions(+), 2 deletions(-)

commit b5bd3458d137034333562b7c3d1819cb3bed9e1e
Author: sam
Date:   Fri Dec 15 16:10:56 2006 +0000

      * Rename percent to ratio.

 TODO          |    7 +++++++
 src/fuzz.c    |   38 +++++++++++++++++++++-----------------
 src/libzzuf.c |   14 +++++++-------
 src/libzzuf.h |    2 +-
 src/preload.c |    4 ++--
 src/zzuf.c    |   20 ++++++++++----------
 6 files changed, 48 insertions(+), 37 deletions(-)

commit a1f60e0d7cf32a4ebd2448d5dafe143ecd44e61d
Author: sam
Date:   Fri Dec 15 15:07:38 2006 +0000

      * Crap, percents could not go higer than 1.0.

 src/libzzuf.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 178c82d46b051b0db720c5fc156fee542dd05b0d
Author: sam
Date:   Fri Dec 15 14:57:59 2006 +0000

      * Switch random back to 32 bits. It's enough (tm).

 src/random.c |   11 ++++-------
 src/random.h |    4 ++--
 2 files changed, 6 insertions(+), 9 deletions(-)

commit 909599959425f63adab5164980baafcd7891d0bd
Author: sam
Date:   Fri Dec 15 14:07:46 2006 +0000

      * Really fix the inconsistency bug. Now dd bs=2048 count=1 gives the same
        result as dd bs=1 count=2048.

 src/fuzz.c |   20 +++++++++-----------
 1 files changed, 9 insertions(+), 11 deletions(-)

commit 934366dd7667ab3e43b12d06df62d39278397ede
Author: sam
Date:   Fri Dec 15 13:20:01 2006 +0000

      * Implemented lseek() and factored lseek64() code.

 src/preload.c |   59 +++++++++++++++++++++++++++++++++++---------------------
 1 files changed, 37 insertions(+), 22 deletions(-)

commit 5b04ac93c83e199cbad58c15ce487cde13ff80f6
Author: sam
Date:   Fri Dec 15 13:12:44 2006 +0000

      * Handle percent < 100.0/CHUNK_SIZE a bit better.
      * Fix a grave index bug in the fuzzer that made everything inconsistent.

 src/fuzz.c |   17 +++++++++--------
 1 files changed, 9 insertions(+), 8 deletions(-)

commit 8e3241bb8ee503869d323fbd4d704ca66c843084
Author: sam
Date:   Fri Dec 15 10:18:57 2006 +0000

      * Add a printf attribute to the debug function to trap errors.

 src/debug.h |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 2d6bfa0f77176df301fe6f1d0c919627d452ab6c
Author: sam
Date:   Fri Dec 15 10:07:53 2006 +0000

      * Oops, fix a bug in the lseek64() diversion.

 src/preload.c |   11 ++---------
 1 files changed, 2 insertions(+), 9 deletions(-)

commit 784d34c471e815d82d3a4c586fbd5daa598ee0bc
Author: sam
Date:   Fri Dec 15 10:06:30 2006 +0000

      * Divert close, fclose, lseek64.

 TODO          |    3 +-
 src/preload.c |   93 ++++++++++++++++++++++++++++++++++++++++++++++++++++----
 2 files changed, 88 insertions(+), 8 deletions(-)

commit fd9825dd5225c902205f2fc996fc870f1231cefa
Author: sam
Date:   Fri Dec 15 09:08:52 2006 +0000

      * Remove useless verbosity.

 src/preload.c |   26 +++++++++++++-------------
 1 files changed, 13 insertions(+), 13 deletions(-)

commit cac118f089b178c7bf70bbde6fc218391684ed97
Author: sam
Date:   Fri Dec 15 09:03:48 2006 +0000

      * Divert fseek().

 src/preload.c |   31 ++++++++++++++++++++++++++++++-
 1 files changed, 30 insertions(+), 1 deletions(-)

commit 3cb1ef3522349aea991b000793a28b8e18522d5a
Author: sam
Date:   Fri Dec 15 09:01:46 2006 +0000

      * Better error reporting if command failed.

 src/zzuf.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 00e5aea1cd4ad4a08d6f732eae718e32c90727a3
Author: sam
Date:   Fri Dec 15 08:42:27 2006 +0000

      * Add --debug.
      * --include and --exclude now work.

 src/fuzz.c    |    6 ------
 src/libzzuf.c |    2 --
 src/preload.c |   48 +++++++++++++++++++++++++++++++++++-------------
 src/zzuf.c    |   12 ++++++++----
 4 files changed, 43 insertions(+), 25 deletions(-)

commit 7ad3a52b86b2e4139d0d71d175f1f47fe9f76403
Author: sam
Date:   Fri Dec 15 08:14:38 2006 +0000

      * Add fallbacks to our functions in case other libraries call libc functions
        in their init constructor (eg. libproc).

 src/libzzuf.c |    3 +++
 src/libzzuf.h |    7 ++++---
 src/preload.c |   30 +++++++++++++++++++++++++++---
 3 files changed, 34 insertions(+), 6 deletions(-)

commit 1ec3fd16599603a8dfaba0348f2582b464362fd3
Author: sam
Date:   Fri Dec 15 07:53:09 2006 +0000

      * Added code for --include/--exclude. Does not work yet.

 src/debug.c   |    1 +
 src/fuzz.c    |    1 +
 src/libzzuf.c |   19 +++++++++++++++++++
 src/libzzuf.h |    2 ++
 src/preload.c |   17 ++++++++++-------
 src/zzuf.c    |   28 ++++++++++++++--------------
 6 files changed, 47 insertions(+), 21 deletions(-)

commit 2d3ab7f839efeb4072e25b55754053ce1c73f785
Author: sam
Date:   Fri Dec 15 00:43:39 2006 +0000

      * Support fopen64().

 src/preload.c |   49 ++++++++++++++++++++++++++++---------------------
 1 files changed, 28 insertions(+), 21 deletions(-)

commit c2094bbdbab3ffb1f4aef791a6e176081db53851
Author: sam
Date:   Fri Dec 15 00:26:01 2006 +0000

      * First somewhat working version.

 README          |    5 ++
 TODO            |    1 +
 src/Makefile.am |    4 +-
 src/debug.c     |   49 +++++++++++++++++
 src/debug.h     |   21 ++++++++
 src/fuzz.c      |   75 +++++++++++++++++++++++++++
 src/fuzz.h      |   20 +++++++
 src/libzzuf.c   |  109 +++++++++++++++------------------------
 src/libzzuf.h   |   37 +++++++++++++
 src/preload.c   |  154 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/preload.h   |   20 +++++++
 src/zzuf.c      |  114 ++++++++++++++++-------------------------
 12 files changed, 469 insertions(+), 140 deletions(-)

commit 51b336492c39af8634f99928b29eae48e3bd44e9
Author: sam
Date:   Thu Dec 14 16:11:14 2006 +0000

      * Fix a bug and refactor some code.

 src/libzzuf.c |   28 ++++++++++++++++++----------
 1 files changed, 18 insertions(+), 10 deletions(-)

commit de6f4e24a1b7425a79415d79ca1b587bbe7d049c
Author: sam
Date:   Thu Dec 14 15:55:18 2006 +0000

      * First try at libzzuf.

 configure.ac    |    1 +
 src/Makefile.am |    5 +++
 src/libzzuf.c   |  109 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 115 insertions(+), 0 deletions(-)

commit e13ce91133e5a6a1d261b7951d735807e31f4479
Author: sam
Date:   Thu Dec 14 14:25:10 2006 +0000

      * Oops, typo.

 src/zzuf.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3d0ee5546b4ffe3fa704d1a9c4e756517fb80f5f
Author: sam
Date:   Thu Dec 14 14:23:07 2006 +0000

      * Easy POC code. We need some LD_PRELOAD shit instead.

 configure.ac    |    2 +-
 src/Makefile.am |    2 +-
 src/random.c    |   46 +++++++++++++
 src/random.h    |   21 ++++++
 src/zzuf.c      |  189 ++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 5 files changed, 257 insertions(+), 3 deletions(-)

commit e876a1102d893c6c40dcee474811ec07deed2b6e
Author: sam
Date:   Wed Dec 13 20:17:27 2006 +0000

      * Initial tree.

 COPYING         |   14 ++++++
 Makefile.am     |    7 +++
 bootstrap       |  123 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.ac    |   46 ++++++++++++++++++++
 src/Makefile.am |    4 ++
 src/zzuf.c      |    1 +
 6 files changed, 195 insertions(+), 0 deletions(-)
